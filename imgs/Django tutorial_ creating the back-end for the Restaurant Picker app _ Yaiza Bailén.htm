<!DOCTYPE html>
<!-- saved from url=(0091)http://yaizabailen.com/django-tutorial-creating-the-back-end-for-the-restaurant-picker-app/ -->
<html lang="en-US" class="csstransforms csstransforms3d csstransitions"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<!-- v: 1.1.1 --><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">		
		<title>Django tutorial: creating the back-end for the Restaurant Picker app | Yaiza Bailén</title>
		
		<link rel="stylesheet" href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/reset.css" type="text/css" media="screen">
<link rel="stylesheet" href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/layout.css" type="text/css" media="screen">
<link rel="stylesheet" href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/768.css" type="text/css" media="screen and (min-width: 768px) and (max-width: 999px)">
<link rel="stylesheet" href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/480.css" type="text/css" media="screen and (max-width: 767px)">


<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]--><link rel="alternate" type="application/rss+xml" title="Yaiza Bailén » Feed" href="http://yaizabailen.com/feed/">
<link rel="alternate" type="application/rss+xml" title="Yaiza Bailén » Comments Feed" href="http://yaizabailen.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Yaiza Bailén » Django tutorial: creating the back-end for the Restaurant Picker app Comments Feed" href="http://yaizabailen.com/django-tutorial-creating-the-back-end-for-the-restaurant-picker-app/feed/">
		<script type="text/javascript" id="www-widgetapi-script" src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/www-widgetapi.js" async=""></script><script src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/iframe_api"></script><script type="text/javascript" async="" src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/ga.js"></script><script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/yaizabailen.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.10"}};
			!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;return g&&g.fillText?(g.textBaseline="top",g.font="600 32px Arial","flag"===a?(g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3):"diversity"===a?(g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e):("simple"===a?g.fillText(h(55357,56835),0,0):g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="crayon-css" href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/crayon.min.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-theme-github-css" href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/github.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-theme-terminal-css" href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/terminal.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-font-monaco-css" href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/monaco.css" type="text/css" media="all">
<link rel="stylesheet" id="responsive-video-light-css" href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/responsive-videos.css" type="text/css" media="all">
<link rel="stylesheet" id="tablepress-default-css" href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/default.min.css" type="text/css" media="all">
<script type="text/javascript" src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/jquery.js"></script>
<script type="text/javascript" src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/jquery-migrate.min.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/yaizabailen.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type="text/javascript" src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/crayon.min.js"></script>
<script type="text/javascript" src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/swfobject.js"></script>
<link rel="https://api.w.org/" href="http://yaizabailen.com/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://yaizabailen.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://yaizabailen.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="The NERD Tree plugin" href="http://yaizabailen.com/the-nerd-tree-plugin/">
<link rel="next" title="Setting Up An Android App Build Environment With Android SDK and PhoneGap in Ubuntu 13.04" href="http://yaizabailen.com/setting-up-an-android-app-build-environment-with-android-sdk-and-phonegap-in-ubuntu-13-04/">
<meta name="generator" content="WordPress 4.4.10">
<link rel="canonical" href="http://yaizabailen.com/django-tutorial-creating-the-back-end-for-the-restaurant-picker-app/">
<link rel="shortlink" href="http://yaizabailen.com/?p=66">
<link rel="alternate" type="application/json+oembed" href="http://yaizabailen.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fyaizabailen.com%2Fdjango-tutorial-creating-the-back-end-for-the-restaurant-picker-app%2F">
<link rel="alternate" type="text/xml+oembed" href="http://yaizabailen.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fyaizabailen.com%2Fdjango-tutorial-creating-the-back-end-for-the-restaurant-picker-app%2F&amp;format=xml">
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-40974257-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
<style type="text/css" id="thb-style-customizer">@import url(http://fonts.googleapis.com/css?family=Yesteryear:regular|Quando:regular|Roboto:700,italic,300,regular,300italic|Titillium+Web:200|Muli:300|Lora:regular); a:hover,
		.thb-text a:hover,
		.comment_body a:hover,
		#logo a:hover,
		#thb-sidebar-main.sidebar .widget a:hover,
		#thb-sidebar-main.sidebar .widget header h1.widgettitle,
		#main-nav div ul li ul li a:hover,
		.thb-navigation .nav-next a:hover::before,
		.thb-navigation .nav-previous a:hover::before,
		.comment-reply-link:hover,
		.form-submit #submit:hover,
		.hentry.format-image.stream .comments em,
		.hentry.format-image.stream .comments:hover::before,
		.thb-shortcode.thb-toggle .thb-toggle-trigger:hover,
		.thb-shortcode.thb-toggle .thb-toggle-trigger:hover::before,
		#filterlist li.current a,
		.single-works .thb-navigation span a:hover::before,
		.thb-slideshow.flexslider .flex-direction-nav li a:hover::before,
		#slide-controls a.enabled.active { color: #005d9b;  } .thb-shortcode.thb-toggle .thb-toggle-trigger:hover::before,
		.thb-shortcode.thb-tabs.vertical.alternate .thb-tabs-nav li.open a,
		ul.wi-container li .play-video:hover,
		.es-carousel ul li span:hover,
		#slide-controls a.enabled.active { border-color: #005d9b;  } .thb-text blockquote, 
		.textwidget blockquote, 
		.comment_body blockquote { border-left-color: #005d9b;  } #comments li.thb-comment.bypostauthor .comment_leftcol img,
		#filterlist li.current a,
		#filterlist li a:hover { border-bottom-color: #005d9b;  } #page { border-top-color: #005d9b; background-color: #fcfcfc;      } .thb-shortcode.thb-tabs.vertical.alternate .thb-tabs-nav li.open a,
		.widget .thb-tagcloud a:hover,
		#mobile-nav-trigger.open { background-color: #005d9b;  } ::-webkit-selection { background-color: #005d9b;  } ::-moz-selection { background-color: #005d9b;  } ::selection { background-color: #005d9b;  } #logo { font-family: "Yesteryear"; font-size: 38px; line-height: 1; letter-spacing: 0px; font-weight: normal; font-style: normal; text-transform: none;  } #logo a { color: #005d9b;  } #main-nav div ul li a { font-family: "Quando"; font-size: 12px; line-height: 1; letter-spacing: 0px; font-weight: normal; font-style: normal; text-transform: uppercase; color: #868686;  } #main-nav div ul li ul li a { font-family: "Quando"; font-size: 11px; line-height: 1; letter-spacing: 0px; font-weight: normal; font-style: normal; text-transform: uppercase; color: #868686;  } #slideshow .caption h1 { font-family: "Roboto"; font-size: 18px; line-height: 1.25; letter-spacing: 0px; font-weight: 700; font-style: normal; text-transform: none; color: #000;  } #slideshow .caption p { font-family: "Roboto"; font-size: 16px; line-height: 1.4; letter-spacing: 0px; font-weight: normal; font-style: italic; text-transform: none; color: #666;  } .pageheader h1 { font-family: "Titillium Web"; font-size: 44px; line-height: 1; letter-spacing: -2px; font-weight: 200; font-style: normal; text-transform: none; color: #000000;  } .pageheader h2 { font-family: "Titillium Web"; font-size: 14px; line-height: 1.25; letter-spacing: 2px; font-weight: 200; font-style: normal; text-transform: uppercase; color: #bbbbbb;  } .thb-text h1, .comment_body h1 { font-family: "Titillium Web"; font-size: 37px; line-height: 1.1; letter-spacing: -2px; font-weight: 200; font-style: normal; text-transform: none; color: #212121;  } .thb-text h2, .comment_body h2 { font-family: "Titillium Web"; font-size: 29px; line-height: 1.1; letter-spacing: -1px; font-weight: 200; font-style: normal; text-transform: none; color: #212121;  } .thb-text h3, .comment_body h3 { font-family: "Titillium Web"; font-size: 19px; line-height: 1.1; letter-spacing: 0px; font-weight: 200; font-style: normal; text-transform: uppercase; color: #212121;  } .thb-text h4, .comment_body h4 { font-family: "Titillium Web"; font-size: 19px; line-height: 1.1; letter-spacing: -1px; font-weight: 200; font-style: normal; text-transform: none; color: #212121;  } .thb-text h5, .comment_body h5 { font-family: "Titillium Web"; font-size: 15px; line-height: 1.1; letter-spacing: 2px; font-weight: 200; font-style: normal; text-transform: uppercase; color: #212121;  } .thb-text h6, .comment_body h6 { font-family: "Roboto"; font-size: 15px; line-height: 1.1; letter-spacing: 2px; font-weight: 700; font-style: normal; text-transform: uppercase; color: #212121;  } .thb-text, .comment_body { font-family: "Roboto"; font-size: 15px; line-height: 1.5; letter-spacing: 0px; font-weight: 300; font-style: normal; text-transform: none; color: #666666;  } .thb-text a, .comment_body a { font-family: "Roboto"; font-size: 15px; line-height: 1.5; letter-spacing: 0px; font-weight: normal; font-style: normal; text-transform: none; color: #005d9b;  } .hentry.standard .item-header h1 { font-family: "Muli"; font-size: 27px; line-height: 1.1; letter-spacing: -1px; font-weight: 300; font-style: normal; text-transform: none;  } .hentry.standard time { font-family: "Muli"; font-size: 12px; line-height: 1.25; letter-spacing: 2px; font-weight: 300; font-style: normal; text-transform: uppercase;  } .hentry.standard.format-quote .item-header h1 { font-family: "Roboto"; font-size: 27px; line-height: 1.25; letter-spacing: -1px; font-weight: 300; font-style: italic; text-transform: normal;  } #stream-container .hentry.stream .item-header h1 { font-family: "Roboto"; font-size: 21px; line-height: 1.1; letter-spacing: -1px; font-weight: 700; font-style: normal; text-transform: none;  } #stream-container .hentry.stream time { font-family: "Roboto"; font-size: 12px; line-height: 1.25; letter-spacing: 2px; font-weight: normal; font-style: normal; text-transform: uppercase;  } #stream-container .hentry.stream.format-quote .item-header h1 { font-family: "Roboto"; font-size: 21px; line-height: 1.25; letter-spacing: -1px; font-weight: 300; font-style: italic; text-transform: normal;  } #filterlist li { font-family: "Roboto"; font-size: 13px; line-height: 1.25; letter-spacing: 1px; font-weight: 300; font-style: normal; text-transform: uppercase;  } #filterlist li a { color: #666666;  } #thb-portfolio-container .item .data header h1 { font-family: "Roboto"; font-size: 19px; line-height: 1.1; letter-spacing: -1px; font-weight: 700; font-style: normal; text-transform: none;  } #thb-portfolio-container .item .data .cat { font-family: "Roboto"; font-size: 11px; line-height: 1.25; letter-spacing: 2px; font-weight: normal; font-style: normal; text-transform: uppercase;  } .sidebar .widget header h1.widgettitle, .sidebar .widget header h1.widgettitle a { font-family: "Quando"; font-size: 14px; line-height: 1.1; letter-spacing: 1px; font-weight: normal; font-style: normal; text-transform: uppercase; color: #005d9b;  } .sidebar .widget { font-family: "Roboto"; font-size: 13px; line-height: 1.5; letter-spacing: 0px; font-weight: 300; font-style: normal; text-transform: none; color: #666666;  } .sidebar .widget a { color: #212121;  } #footer { background-color: #005d9b;      } #page-footer .widget .widgettitle, #page-footer .widget .widgettitle a { font-family: "Roboto"; font-size: 14px; line-height: 1.1; letter-spacing: 1px; font-weight: 700; font-style: normal; text-transform: uppercase; color: #fff;  } #page-footer .widget { font-family: "Roboto"; font-size: 14px; line-height: 1.4; letter-spacing: 0px; font-weight: normal; font-style: normal; text-transform: none; color: #999999;  } #page-footer .widget a { color: #bababa;  } #page-footer .widget a:hover { color: #ffffff;  } #copyright a.logohome { font-family: "Lora"; font-size: 17px; line-height: 1; letter-spacing: -1px; font-weight: normal; font-style: normal; text-transform: none;  } #copyright a { color: #bababa;  } #copyright a:hover { color: #ffffff;  } body .thb-text .thb-btn {border: 1px solid #003e68;text-shadow: 0 -1px 0 rgba(0,1,2, .6);background-color: #004e82;
		background-repeat: repeat-x;
		background-image: -moz-linear-gradient(top, #096aac, #004e82);
		background-image: -ms-linear-gradient(top, #096aac, #004e82);
		background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #096aac), color-stop(100%, #004e82));
		background-image: -webkit-linear-gradient(top, #096aac, #004e82);
		background-image: -o-linear-gradient(top, #096aac, #004e82);
		background-image: linear-gradient(top, #096aac, #004e82);
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#096aac', endColorstr='#004e82',GradientType=0 );}body .thb-text .thb-btn:hover {background-color: #005d9b;
		background-repeat: repeat-x;
		background-image: -moz-linear-gradient(top, #0a73ba, #005d9b);
		background-image: -ms-linear-gradient(top, #0a73ba, #005d9b);
		background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #0a73ba), color-stop(100%, #005d9b));
		background-image: -webkit-linear-gradient(top, #0a73ba, #005d9b);
		background-image: -o-linear-gradient(top, #0a73ba, #005d9b);
		background-image: linear-gradient(top, #0a73ba, #005d9b);
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#0a73ba', endColorstr='#005d9b',GradientType=0 );}body .thb-text .thb-btn:active {color: #002035;text-shadow: 0 1px 0 rgba(53,174,255, .5);background-color: #096aac;
		background-repeat: repeat-x;
		background-image: -moz-linear-gradient(top, #006cb5, #096aac);
		background-image: -ms-linear-gradient(top, #006cb5, #096aac);
		background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #006cb5), color-stop(100%, #096aac));
		background-image: -webkit-linear-gradient(top, #006cb5, #096aac);
		background-image: -o-linear-gradient(top, #006cb5, #096aac);
		background-image: linear-gradient(top, #006cb5, #096aac);
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#006cb5', endColorstr='#096aac',GradientType=0 );}.thb-overlay {background: #005d9b;background-color: rgba(0,93,155, 0.8);} </style><link rel="alternate" href="http://yaizabailen.com/feed/" type="application/rss+xml" title="Yaiza Bailén RSS Feed">
<link rel="pingback" href="http://yaizabailen.com/xmlrpc.php">
<link rel="stylesheet" href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/style.css" type="text/css" media="all">
<script type="text/javascript" src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/admin-ajax.php"></script>
<script type="text/javascript">
				var thb_ajax_url = 'http://yaizabailen.com/wp-admin/admin-ajax.php';
				var thb_frontend_js_url = 'http://yaizabailen.com/wp-content/themes/fotografia/framework/assets/frontend/js';
			</script><link rel="stylesheet" href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/flexslider.css" type="text/css" media="all">

<link rel="stylesheet" href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/prettyPhoto.css" type="text/css" media="all">

<link rel="stylesheet" href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/isotope.css" type="text/css" media="all">

	<script type="text/javascript" src="chrome-extension://aadgmnobpdmgmigaicncghmmoeflnamj/ng-inspector.js"></script></head>
	<body class="single single-post postid-66 single-format-standard w-sidebar sidebar-right logo-left post_layout_standard ">
	
		
	<div id="page-wrapper">

		<nav id="mobile-nav" class="primary menu mobile">
			<ul id="menu-primary" class="menu"><li id="menu-item-14" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14"><a href="http://yaizabailen.com/">About Me</a></li>
</ul>		</nav><!-- /#main-nav -->

		<div id="page">
			<!-- <div id="boxed-container"> -->
				
			<a href="http://yaizabailen.com/django-tutorial-creating-the-back-end-for-the-restaurant-picker-app/#" id="mobile-nav-trigger">m</a>

			
			<div class="wrapper">
				<header id="header">
					
					<h1 id="logo">
												<a href="http://yaizabailen.com/" title="Yaiza Bailén">
															Yaiza Bailén													</a>
					</h1>

										<nav id="main-nav" class="primary">
						
						<div class="menu-primary-container"><ul id="menu-primary-1" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14"><a href="http://yaizabailen.com/">About Me</a></li>
</ul></div>					
											</nav>
					
									</header>
			</div>
			
			
						
			<div class="wrapper">

				
		
			
		
				
		<header class="pageheader">
			<h1>Django tutorial: creating the back-end for the Restaurant Picker app</h1>
			<h2>May 16, 2013</h2>
		</header>
	
		
				
				<div class="featuredimage">
			<a href="http://yaizabailen.com/wp-content/uploads/2013/05/django_logo.png" title="Django tutorial: creating the back-end for the Restaurant Picker app" class="item-thumb thb-lightbox" rel="prettyPhoto">
				<span class="thb-overlay" style="opacity: 0; visibility: hidden;"></span>
				<img src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/django_logo-940x230.png" alt="">
			</a>
		</div>
	<!-- /.featuredimage -->
	
	
				
		<section id="content" class="post-66 post type-post status-publish format-standard has-post-thumbnail hentry category-django category-tutorial">
			
			
									<div class="thb-text">
						<p>I was looking for documentation to learn jQuery Mobile and found this great <a title="jQuery Mobile tutorial" href="http://www.noupe.com/tutorial/jquery-mobile-tutorial-creating-a-restaurant-picker-web-app.html" target="_blank">tutorial</a> written by <a title="Stéphanie Walter" href="http://www.inpixelitrust.fr/" target="_blank">Stéphanie Walter</a>. It covers the front-end of a mobile application using jQuery Mobile.</p>
<p>Every application needs of a front-end and a back-end development. If we simplify the concepts we could say the front-end part is responsible of the user interface and the back-end is responsible of the database access and processing of the data.</p>
<p>I have decided then to write the server-side code for this Restaurant Picker application. After asking for permission to Stéphanie to use her example and front-end code I took the chance to write this Django tutorial. This tutorial doesn’t cover the deployment to production and everything is treated in a development environment.</p>
<p><a title="Django" href="https://www.djangoproject.com/" target="_blank">Django</a> is an open source web framework written in Python which follows the model–view–controller (MVC) architectural pattern. If you know Python I find it quite easy to start to code a web application, most of the most used functions are automated and you can use them out of the box. Besides, it has a big community and clear documentation.</p>
<p>As I said I will use the Restaurant Picker example and the code generated in the tutorial I linked above. You may want to read those <a title="Rest Picker application" href="http://www.noupe.com/tutorial/jquery-mobile-tutorial-creating-a-restaurant-picker-web-app.html" target="_blank">specifications</a> since those are the ones we are going to follow. As a summary in the image below you can see the different screens of our application:</p>
<p><a href="http://yaizabailen.com/wp-content/uploads/2013/05/screens.png" rel="prettyPhoto"><img class="alignnone size-large wp-image-69" alt="screens" src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/screens-940x340.png" width="940" height="340" srcset="http://yaizabailen.com/wp-content/uploads/2013/05/screens-300x108.png 300w, http://yaizabailen.com/wp-content/uploads/2013/05/screens-940x340.png 940w, http://yaizabailen.com/wp-content/uploads/2013/05/screens-620x224.png 620w, http://yaizabailen.com/wp-content/uploads/2013/05/screens-450x163.png 450w, http://yaizabailen.com/wp-content/uploads/2013/05/screens.png 1294w" sizes="(max-width: 940px) 100vw, 940px"></a></p>
<p>Let’s start to code. I will assume you already have django installed, if not you can follow the <a title="Django Installation Guide" href="https://docs.djangoproject.com/en/1.5/intro/install/" target="_blank">installation guide</a>.</p>
<h2>Setting up the project</h2>
<p>The first thing we need to do is to create our project and application folder structure. One project can have multiple applications. The idea behind this is to follow the DRY (Don’t Repeat Yourself) principle so that you can isolate applications in order to be reused by other projects. In our example we will have one project with only one application.</p>
<p>To <strong>create</strong> our <strong>Django project</strong> called <em>rest_picker</em> type the following command in the console:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da736035003987" class="crayon-syntax crayon-theme-terminal crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">$ django-admin.py startproject rest_picker</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -19px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da736035003987-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da736035003987-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">django</span><span class="crayon-o">-</span><span class="crayon-v">admin</span><span class="crayon-e">.py</span><span class="crayon-h"> </span><span class="crayon-e">startproject </span><span class="crayon-v">rest_picker</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p>As a result we will get:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da74d173004852" class="crayon-syntax crayon-theme-terminal crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">rest_picker/
        manage.py
        rest_picker/
                __init__.py
                settings.py
                urls.py
                wsgi.py</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -19px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da74d173004852-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da74d173004852-2">2</div><div class="crayon-num" data-line="crayon-59a88327da74d173004852-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da74d173004852-4">4</div><div class="crayon-num" data-line="crayon-59a88327da74d173004852-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da74d173004852-6">6</div><div class="crayon-num" data-line="crayon-59a88327da74d173004852-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da74d173004852-1"><span class="crayon-v">rest_picker</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da74d173004852-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">manage</span><span class="crayon-e">.py</span></div><div class="crayon-line" id="crayon-59a88327da74d173004852-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rest_picker</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da74d173004852-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">__init__</span><span class="crayon-e">.py</span></div><div class="crayon-line" id="crayon-59a88327da74d173004852-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">settings</span><span class="crayon-e">.py</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da74d173004852-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">urls</span><span class="crayon-e">.py</span></div><div class="crayon-line" id="crayon-59a88327da74d173004852-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">wsgi</span><span class="crayon-e">.py</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>We will define the global parametres of the project in the files above later.</p>
<p>To <strong>create</strong> our <strong>aplication</strong>, called <em>restaurants</em> inside our <em>rest_picker</em> project we move into the root project folder and once there we must type in the console:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da756512356126" class="crayon-syntax crayon-theme-terminal crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">$ python manage.py startapp restaurants</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -19px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da756512356126-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da756512356126-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">python </span><span class="crayon-v">manage</span><span class="crayon-e">.py</span><span class="crayon-h"> </span><span class="crayon-e">startapp </span><span class="crayon-v">restaurants</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>A new directory is created called <em>restaurants</em> with specific files for this application.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da75e051446610" class="crayon-syntax crayon-theme-terminal crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">rest_picker/
        manage.py
        rest_picker/
                __init__.py
                settings.py
                urls.py
                wsgi.py
        restaurants/
                __init__.py
                models.py
                tests.py
                views.py</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -26px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da75e051446610-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da75e051446610-2">2</div><div class="crayon-num" data-line="crayon-59a88327da75e051446610-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da75e051446610-4">4</div><div class="crayon-num" data-line="crayon-59a88327da75e051446610-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da75e051446610-6">6</div><div class="crayon-num" data-line="crayon-59a88327da75e051446610-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da75e051446610-8">8</div><div class="crayon-num" data-line="crayon-59a88327da75e051446610-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da75e051446610-10">10</div><div class="crayon-num" data-line="crayon-59a88327da75e051446610-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da75e051446610-12">12</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da75e051446610-1"><span class="crayon-v">rest_picker</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da75e051446610-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">manage</span><span class="crayon-e">.py</span></div><div class="crayon-line" id="crayon-59a88327da75e051446610-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rest_picker</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da75e051446610-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">__init__</span><span class="crayon-e">.py</span></div><div class="crayon-line" id="crayon-59a88327da75e051446610-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">settings</span><span class="crayon-e">.py</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da75e051446610-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">urls</span><span class="crayon-e">.py</span></div><div class="crayon-line" id="crayon-59a88327da75e051446610-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">wsgi</span><span class="crayon-e">.py</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da75e051446610-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">restaurants</span><span class="crayon-o">/</span></div><div class="crayon-line" id="crayon-59a88327da75e051446610-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">__init__</span><span class="crayon-e">.py</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da75e051446610-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">models</span><span class="crayon-e">.py</span></div><div class="crayon-line" id="crayon-59a88327da75e051446610-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">tests</span><span class="crayon-e">.py</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da75e051446610-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">views</span><span class="crayon-e">.py</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0019 seconds] -->
<p>Now we need to create a database. There are many options when choosing a database (postgres, mysql, oracle, …), we will go for the easiest one for Django, SQLite3. Django will create it for us automatically once we define it in the <em>settings.py</em> file. If you have choosen one of the other options you will need to create the database first by yourself.</p>
<p>Let’s edit the <strong>settings.py</strong> file for a <strong>SQLite3 database</strong> and define the <em>TIME_ZONE</em>:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da767397467613" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">settings.py</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3', 
        'NAME': '/home/yaiza/dev/rest_picker/rest_picker.db', 
        'USER': '',
        'PASSWORD': '',
        'HOST': '',    
        'PORT': '',    
    }
}

TIME_ZONE = 'Europe/Madrid'</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da767397467613-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da767397467613-2">2</div><div class="crayon-num" data-line="crayon-59a88327da767397467613-3">3</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num" data-line="crayon-59a88327da767397467613-4">4</div><div class="crayon-num" data-line="crayon-59a88327da767397467613-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da767397467613-6">6</div><div class="crayon-num" data-line="crayon-59a88327da767397467613-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da767397467613-8">8</div><div class="crayon-num" data-line="crayon-59a88327da767397467613-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da767397467613-10">10</div><div class="crayon-num" data-line="crayon-59a88327da767397467613-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da767397467613-12">12</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da767397467613-1"><span class="crayon-v">DATABASES</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da767397467613-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'default'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-59a88327da767397467613-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'ENGINE'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'django.db.backends.sqlite3'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-59a88327da767397467613-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'NAME'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'/home/yaiza/dev/rest_picker/rest_picker.db'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-59a88327da767397467613-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'USER'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da767397467613-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'PASSWORD'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da767397467613-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'HOST'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da767397467613-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'PORT'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-59a88327da767397467613-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da767397467613-10"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-59a88327da767397467613-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da767397467613-12"><span class="crayon-v">TIME_ZONE</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'Europe/Madrid'</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0032 seconds] -->
<p>Remember of changing the path to the one in your machine.</p>
<h2>Models</h2>
<p>Now we need to define the database schema for our application. We do this defining Django models. Each model is a Python class that subclasses <em>django.db.models.Model</em>. Each attribute of the model represents a database field.</p>
<p>Let’s remember the screens to think how many tables and which fields our app needs.</p>
<ul>
<li>A screen listing kind of foods</li>
<li>A screen listing towns</li>
<li>A screen listing restaurants</li>
<li>A screen with the details of the restaurant: name, description, what to eat, web site, phone number, address, postal code, a url for google maps, number of stars, food and town</li>
</ul>
<p>We need then a table for kind of foods, a table for towns and a table for restaurants. The fields <em>food</em> and <em>city</em> of the restaurant table will be linked in a <em>many2one</em> relation to the <em>Food</em> and <em>Town</em> tables.</p>
<p>We want to display an image with the food, and also an image for the restaurant and an image of a map with the restaurant location. We need to store those images in the server and store the path in the database so we can retrieve them when needed.</p>
<p>This is how the <strong>models.py</strong> file must look like:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da772035525525" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">models.py</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">from django.db import models

class Food(models.Model):
    name = models.CharField(max_length=30)
    picture = models.ImageField(upload_to='images/', null=True)

    def __unicode__(self):
        return self.name

class Town(models.Model):
    name = models.CharField(max_length=30)

    def __unicode__(self):
        return self.name

class Restaurant(models.Model):
    name = models.CharField(max_length=100)
    desc = models.CharField(max_length=100)
    menu = models.CharField(max_length=100)
    web = models.CharField(max_length=100)
    phone = models.CharField(max_length=40)
    address = models.CharField(max_length=100)
    post_code = models.CharField(max_length=20)
    picture = models.ImageField(upload_to='images/', null=True)
    map = models.ImageField(upload_to='images/', null=True)
    gmap_url = models.CharField(max_length=200, null=True)

    food = models.ForeignKey(Food)
    town = models.ForeignKey(Town)

    STARS = ((1,'one'),
            (2,'two'),
            (3,'three'),
            (4,'four'),)
    votes = models.IntegerField(choices=STARS, default=4)

    def __unicode__(self):
        return self.name</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da772035525525-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-2">2</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-4">4</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-6">6</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-8">8</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-10">10</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-12">12</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-14">14</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-16">16</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-18">18</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-20">20</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-22">22</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-24">24</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-26">26</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-28">28</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-30">30</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-32">32</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-34">34</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-36">36</div><div class="crayon-num" data-line="crayon-59a88327da772035525525-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da772035525525-38">38</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da772035525525-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">django</span><span class="crayon-sy">.</span><span class="crayon-e">db </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">models</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-2">&nbsp;</div><div class="crayon-line" id="crayon-59a88327da772035525525-3"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Food</span><span class="crayon-sy">(</span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-v">Model</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">CharField</span><span class="crayon-sy">(</span><span class="crayon-v">max_length</span><span class="crayon-o">=</span><span class="crayon-cn">30</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da772035525525-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">picture</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">ImageField</span><span class="crayon-sy">(</span><span class="crayon-v">upload_to</span><span class="crayon-o">=</span><span class="crayon-s">'images/'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">null</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-6">&nbsp;</div><div class="crayon-line" id="crayon-59a88327da772035525525-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">__unicode__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">name</span></div><div class="crayon-line" id="crayon-59a88327da772035525525-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-10"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Town</span><span class="crayon-sy">(</span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-v">Model</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-59a88327da772035525525-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">CharField</span><span class="crayon-sy">(</span><span class="crayon-v">max_length</span><span class="crayon-o">=</span><span class="crayon-cn">30</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-12">&nbsp;</div><div class="crayon-line" id="crayon-59a88327da772035525525-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">__unicode__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">name</span></div><div class="crayon-line" id="crayon-59a88327da772035525525-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-16"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Restaurant</span><span class="crayon-sy">(</span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-v">Model</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-59a88327da772035525525-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">CharField</span><span class="crayon-sy">(</span><span class="crayon-v">max_length</span><span class="crayon-o">=</span><span class="crayon-cn">100</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">CharField</span><span class="crayon-sy">(</span><span class="crayon-v">max_length</span><span class="crayon-o">=</span><span class="crayon-cn">100</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da772035525525-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">menu</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">CharField</span><span class="crayon-sy">(</span><span class="crayon-v">max_length</span><span class="crayon-o">=</span><span class="crayon-cn">100</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">web</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">CharField</span><span class="crayon-sy">(</span><span class="crayon-v">max_length</span><span class="crayon-o">=</span><span class="crayon-cn">100</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da772035525525-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">phone</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">CharField</span><span class="crayon-sy">(</span><span class="crayon-v">max_length</span><span class="crayon-o">=</span><span class="crayon-cn">40</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">address</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">CharField</span><span class="crayon-sy">(</span><span class="crayon-v">max_length</span><span class="crayon-o">=</span><span class="crayon-cn">100</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da772035525525-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">post_code</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">CharField</span><span class="crayon-sy">(</span><span class="crayon-v">max_length</span><span class="crayon-o">=</span><span class="crayon-cn">20</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">picture</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">ImageField</span><span class="crayon-sy">(</span><span class="crayon-v">upload_to</span><span class="crayon-o">=</span><span class="crayon-s">'images/'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">null</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da772035525525-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">map</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">ImageField</span><span class="crayon-sy">(</span><span class="crayon-v">upload_to</span><span class="crayon-o">=</span><span class="crayon-s">'images/'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">null</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">gmap_url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">CharField</span><span class="crayon-sy">(</span><span class="crayon-v">max_length</span><span class="crayon-o">=</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">null</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da772035525525-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">food</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">ForeignKey</span><span class="crayon-sy">(</span><span class="crayon-v">Food</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da772035525525-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">town</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">ForeignKey</span><span class="crayon-sy">(</span><span class="crayon-v">Town</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-30">&nbsp;</div><div class="crayon-line" id="crayon-59a88327da772035525525-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">STARS</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-s">'one'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-s">'two'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da772035525525-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-s">'three'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-s">'four'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da772035525525-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">votes</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">IntegerField</span><span class="crayon-sy">(</span><span class="crayon-v">choices</span><span class="crayon-o">=</span><span class="crayon-v">STARS</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">default</span><span class="crayon-o">=</span><span class="crayon-cn">4</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-36">&nbsp;</div><div class="crayon-line" id="crayon-59a88327da772035525525-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">__unicode__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da772035525525-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">name</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0160 seconds] -->

<p>We overwrite the <em>__unicode__()</em> method to return a human-readable representation of the model instead of <em>str(obj)</em> that is what is defined by default.</p>
<p>The <em>menu</em> field will store a list of food and drinks that are offered in the restaurant. This list should be entered separating elements with semicolons so that we can process it later to display it in the correct way.</p>
<p>The <strong>ImageField</strong> needs of a more detailed explanation. The <em>upload_to</em> parameter defines a relative path to the <em>MEDIA_ROOT</em> parameter defined in the <em>settings.py</em> file. We will upload the images to a <em>media/image/</em> folder inside the root project. We need to create those folders, getting the folder structure detailed below:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da77e591045528" class="crayon-syntax crayon-theme-terminal crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">rest_picker/
    manage.py
    media/
        images/
    rest_picker/
    restaurants/</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -19px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da77e591045528-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da77e591045528-2">2</div><div class="crayon-num" data-line="crayon-59a88327da77e591045528-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da77e591045528-4">4</div><div class="crayon-num" data-line="crayon-59a88327da77e591045528-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da77e591045528-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da77e591045528-1"><span class="crayon-v">rest_picker</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da77e591045528-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">manage</span><span class="crayon-e">.py</span></div><div class="crayon-line" id="crayon-59a88327da77e591045528-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">media</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da77e591045528-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">images</span><span class="crayon-o">/</span></div><div class="crayon-line" id="crayon-59a88327da77e591045528-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rest_picker</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da77e591045528-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">restaurants</span><span class="crayon-o">/</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->

<p>We edit now the <strong>settings.py</strong> file:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da786978955744" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">settings.py</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">MEDIA_ROOT = '/home/yaiza/dev/rest_picker/media/'
MEDIA_URL = 'http://127.0.0.1:8000/rest_picker/media/'</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num crayon-marked-num crayon-top crayon-bottom" data-line="crayon-59a88327da786978955744-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da786978955744-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-59a88327da786978955744-1"><span class="crayon-v">MEDIA_ROOT</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'/home/yaiza/dev/rest_picker/media/'</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da786978955744-2"><span class="crayon-v">MEDIA_URL</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'http://127.0.0.1:8000/rest_picker/media/'</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->

<p>Remember of changing the path to the one in your machine.</p>
<p><strong>MEDIA_ROOT</strong> defines the absolute path where the image will be stored. Since we have defined the <em>upload_to</em> attribute of ImageField as <em>images/</em>, the images will be stored under <em>/home/yaiza/dev/rest_picker/media/images/</em>. <strong>MEDIA_URL</strong> defines which url serves the media file, we will understand this parameter better when we see the urls and views files.</p>
<p>Before running the command to create the tables we need to add our application to the list of <strong>INSTALLED_APPS</strong> in the <em>settings.py</em> file. We will uncomment the <em>django.contrib.admin</em> line as well that is responsible of generating the automatic admin interface that we will see later. We can leave the ones that are activated by default as they are since they define basic operations as authentication, a session framework, a framework for managing multiple sites, …</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da790015883650" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">settings.py</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">INSTALLED_APPS = (
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.sites',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'django.contrib.admin',
    'restaurants',
)</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da790015883650-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da790015883650-2">2</div><div class="crayon-num" data-line="crayon-59a88327da790015883650-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da790015883650-4">4</div><div class="crayon-num" data-line="crayon-59a88327da790015883650-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da790015883650-6">6</div><div class="crayon-num" data-line="crayon-59a88327da790015883650-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da790015883650-8">8</div><div class="crayon-num" data-line="crayon-59a88327da790015883650-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da790015883650-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da790015883650-1"><span class="crayon-v">INSTALLED_APPS</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da790015883650-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'django.contrib.auth'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da790015883650-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'django.contrib.contenttypes'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da790015883650-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'django.contrib.sessions'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da790015883650-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'django.contrib.sites'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da790015883650-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'django.contrib.messages'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da790015883650-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'django.contrib.staticfiles'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da790015883650-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'django.contrib.admin'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da790015883650-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'restaurants'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da790015883650-10"><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->

<p>We are ready to run the command to <strong>generate</strong> the <strong>tables</strong> in our database:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da798763217472" class="crayon-syntax crayon-theme-terminal crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">$ python manage.py syncdb</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -19px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da798763217472-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da798763217472-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">python </span><span class="crayon-v">manage</span><span class="crayon-e">.py</span><span class="crayon-h"> </span><span class="crayon-v">syncdb</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->

<p>This command looks for new applications in the list of <em>INSTALLED_APPS</em> in the <em>settings.py</em> file and creates the tables in the database. Since it is the first time that we run it and we chose SQLite3 as our database it will ask for the creation of a superuser. Go ahead and create that superuser.</p>
<p>[<strong>Note</strong>: The <em>syncdb</em> command only creates new tables but it doesn’t notice changes in an existing model, hence, it doesn’t modify existing tables. To do this easily you may want to have a look at <a href="http://south.readthedocs.org/en/latest/about.html" title="South - database migration tool" target="_blank">South</a>, a tool for database migrations for Django applications.]</p>
<p>We have already created the database schema for the application.</p>
<h2>Admin Interface</h2>
<p>By default Django provides an admin interface that is reading the models that we have just created. We just need to define which url is going to serve our admin interface. We do that through the <strong>rest_picker/urls.py</strong> file:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da7a1342036741" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">urls.py</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">from django.conf.urls import patterns, include, url
from django.contrib import admin

admin.autodiscover()

urlpatterns = patterns('',
                url(r'^admin/', include(admin.site.urls)),
)</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da7a1342036741-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7a1342036741-2">2</div><div class="crayon-num" data-line="crayon-59a88327da7a1342036741-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7a1342036741-4">4</div><div class="crayon-num" data-line="crayon-59a88327da7a1342036741-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7a1342036741-6">6</div><div class="crayon-num" data-line="crayon-59a88327da7a1342036741-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7a1342036741-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da7a1342036741-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">django</span><span class="crayon-sy">.</span><span class="crayon-v">conf</span><span class="crayon-sy">.</span><span class="crayon-e">urls </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">patterns</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">include</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">url</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7a1342036741-2"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">django</span><span class="crayon-sy">.</span><span class="crayon-e">contrib </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">admin</span></div><div class="crayon-line" id="crayon-59a88327da7a1342036741-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7a1342036741-4"><span class="crayon-v">admin</span><span class="crayon-sy">.</span><span class="crayon-e">autodiscover</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da7a1342036741-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7a1342036741-6"><span class="crayon-v">urlpatterns</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">patterns</span><span class="crayon-sy">(</span><span class="crayon-s">''</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da7a1342036741-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">url</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'^admin/'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">include</span><span class="crayon-sy">(</span><span class="crayon-v">admin</span><span class="crayon-sy">.</span><span class="crayon-k ">site</span><span class="crayon-sy">.</span><span class="crayon-v">urls</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7a1342036741-8"><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0029 seconds] -->

<p>This file defines the <strong>URLconf module</strong> that maps urls with given Python code (views) or HTML templates. The path to get to this file was defined by default in our <em>settings.py</em> file when we created the project (<em>ROOT_URLCONF = ‘rest_picker.urls’</em>). You can change this if you want to.</p>
<p>The first argument of the patterns function is a string prefix (we are not using this prefix for now, we will explain it later), the following ones are url functions. The url function accepts two arguments minimum: a regular expression and either the view that must be called or a redirection to other URLconf module, when that url is met. In this case, we are referring to another URLconf module using the <em>include</em> function. This module comes by default with Django.</p>
<p>If we look at the regular expression <em>r’^admin/’</em> this means that adding admin/ to our base url we will get the admin interface. Let’s check it.</p>
<p>Django comes with a lightweight development web server on the local machine. By default, the server runs on port 8000 on the IP address 127.0.0.1 (localhost). You can pass in an IP address and port number explicitly. (Django recommends not to use this server in production since it has not gone through security audits or performance tests).</p>
<p>To <strong>start</strong> the <strong>dev server</strong> type in your console:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da7ac087481648" class="crayon-syntax crayon-theme-terminal crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">$ python manage.py runserver</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -19px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da7ac087481648-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da7ac087481648-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">python </span><span class="crayon-v">manage</span><span class="crayon-e">.py</span><span class="crayon-h"> </span><span class="crayon-v">runserver</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->

<p>Our default base url is: <strong>http://localhost:8000/</strong>.<br>
To get our admin interface: <strong>htp://localhost:8000/admin/</strong></p>
<p>The login and password are the ones you entered for the database superuser.</p>
<p>We can’t see a menu to enter data for our application yet. We need to do something else first. We have to create <strong>restaurants/admin.py</strong> to add the models and fields we want to be able to edit through the admin site:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da7b5332693244" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">admin.py</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">from django.contrib import admin
from restaurants.models import Restaurant, Food, Town

class RestaurantAdmin(admin.ModelAdmin):
    fieldsets = [('Description',{'fields': ['name','desc','menu']}),
                 ('Address',{'fields':['address','post_code','town']}),
                 ('Contact',{'fields':['web','gmap_url','phone']}),
                 ('Food',{'fields':['food']}),
                 ('Pictures',{'fields':['picture','map']}),]

admin.site.register(Restaurant,RestaurantAdmin)
admin.site.register(Food)
admin.site.register(Town)</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da7b5332693244-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7b5332693244-2">2</div><div class="crayon-num" data-line="crayon-59a88327da7b5332693244-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7b5332693244-4">4</div><div class="crayon-num" data-line="crayon-59a88327da7b5332693244-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7b5332693244-6">6</div><div class="crayon-num" data-line="crayon-59a88327da7b5332693244-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7b5332693244-8">8</div><div class="crayon-num" data-line="crayon-59a88327da7b5332693244-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7b5332693244-10">10</div><div class="crayon-num" data-line="crayon-59a88327da7b5332693244-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7b5332693244-12">12</div><div class="crayon-num" data-line="crayon-59a88327da7b5332693244-13">13</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da7b5332693244-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">django</span><span class="crayon-sy">.</span><span class="crayon-e">contrib </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">admin</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7b5332693244-2"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">restaurants</span><span class="crayon-sy">.</span><span class="crayon-e">models </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">Restaurant</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Food</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Town</span></div><div class="crayon-line" id="crayon-59a88327da7b5332693244-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7b5332693244-4"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">RestaurantAdmin</span><span class="crayon-sy">(</span><span class="crayon-v">admin</span><span class="crayon-sy">.</span><span class="crayon-v">ModelAdmin</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-59a88327da7b5332693244-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fieldsets</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">(</span><span class="crayon-s">'Description'</span><span class="crayon-sy">,</span><span class="crayon-sy">{</span><span class="crayon-s">'fields'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'name'</span><span class="crayon-sy">,</span><span class="crayon-s">'desc'</span><span class="crayon-sy">,</span><span class="crayon-s">'menu'</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7b5332693244-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">(</span><span class="crayon-s">'Address'</span><span class="crayon-sy">,</span><span class="crayon-sy">{</span><span class="crayon-s">'fields'</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-s">'address'</span><span class="crayon-sy">,</span><span class="crayon-s">'post_code'</span><span class="crayon-sy">,</span><span class="crayon-s">'town'</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da7b5332693244-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">(</span><span class="crayon-s">'Contact'</span><span class="crayon-sy">,</span><span class="crayon-sy">{</span><span class="crayon-s">'fields'</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-s">'web'</span><span class="crayon-sy">,</span><span class="crayon-s">'gmap_url'</span><span class="crayon-sy">,</span><span class="crayon-s">'phone'</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7b5332693244-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">(</span><span class="crayon-s">'Food'</span><span class="crayon-sy">,</span><span class="crayon-sy">{</span><span class="crayon-s">'fields'</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-s">'food'</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da7b5332693244-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">(</span><span class="crayon-s">'Pictures'</span><span class="crayon-sy">,</span><span class="crayon-sy">{</span><span class="crayon-s">'fields'</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-s">'picture'</span><span class="crayon-sy">,</span><span class="crayon-s">'map'</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7b5332693244-10">&nbsp;</div><div class="crayon-line" id="crayon-59a88327da7b5332693244-11"><span class="crayon-v">admin</span><span class="crayon-sy">.</span><span class="crayon-k ">site</span><span class="crayon-sy">.</span><span class="crayon-e">register</span><span class="crayon-sy">(</span><span class="crayon-v">Restaurant</span><span class="crayon-sy">,</span><span class="crayon-v">RestaurantAdmin</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7b5332693244-12"><span class="crayon-v">admin</span><span class="crayon-sy">.</span><span class="crayon-k ">site</span><span class="crayon-sy">.</span><span class="crayon-e">register</span><span class="crayon-sy">(</span><span class="crayon-v">Food</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da7b5332693244-13"><span class="crayon-v">admin</span><span class="crayon-sy">.</span><span class="crayon-k ">site</span><span class="crayon-sy">.</span><span class="crayon-e">register</span><span class="crayon-sy">(</span><span class="crayon-v">Town</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0061 seconds] -->

<p>We have used the default interface for <em>Food</em> and <em>Town</em> and we have customized the <em>Restaurant</em> one. We could have used <em>admin.site.register(Restaurant)</em> but we have defined sections for the Restaurant model and we have ordered the fields.</p>
<p>This is the result of the <strong>Admin Site</strong>:</p>
<div id="attachment_99" style="width: 405px" class="wp-caption alignnone"><a href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/admin_interface.png" rel="prettyPhoto"><img src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/admin_interface.png" alt="Admin Site" width="395" height="703" class="size-full wp-image-99"></a><p class="wp-caption-text">Admin Site</p></div>
<p>You can add all the data you need for a restaurant through the admin site now.</p>
<h2>URLS and Views</h2>
<p>Let’s design the public sites now. We need to define an url for each screen and a .html template linked to it along with a view if any data processing is needed.</p>
<p>We will define a specific URLconf module for the application under the restaurants folder that will be referred from the global URLconf module of the project. This application URLconf module maps urls with views (Python code) or templates (HTML). In case of a view it will call the corresponding HTML template.</p>
<div id="attachment_105" style="width: 588px" class="wp-caption alignnone"><a href="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/template_diagram.png" rel="prettyPhoto"><img src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/template_diagram.png" alt="Template Diagram" width="578" height="109" class="size-full wp-image-105" srcset="http://yaizabailen.com/wp-content/uploads/2013/05/template_diagram-300x56.png 300w, http://yaizabailen.com/wp-content/uploads/2013/05/template_diagram-450x84.png 450w, http://yaizabailen.com/wp-content/uploads/2013/05/template_diagram.png 578w" sizes="(max-width: 578px) 100vw, 578px"></a><p class="wp-caption-text">Template Diagram</p></div>
<p>By default Django looks by default for a subfolder called <em>templates</em> under the application root folder. In order to avoid conflicts between templates of different applications sharing the same project that may have the same name, is a good practise to add a subfolder under templates named as the application. As a result we will place our templates under <em>restaurants/templates/restaurants/</em>.</p>
<p>I have chosen <em>rest_picker</em> as the url for our application, getting a <strong>base url</strong> as <strong>http://localhost:8000/rest_picker/</strong>.</p>
<p>Let’s think in the workflow to define urls and parameters that we need to pass from one screen to another through the url.</p>
<ol>
<strong>
</strong><li><strong></strong>Choose a food: index.html</li>
<p>    URL: http://localhost:8000/rest_picker/<br>
    We need to pass the food id to the next screen in order to do a filter to only show cities that have restaurants with that food.</p>
<li>Choose a town: choose_town.html</li>
<p>    URL: http://localhost:8000/rest_picker/food/&lt;food_id&gt;<br>
    For the next screen we need to pass the food id and the town id to display only restaurants for that town and with that food.</p>
<li>Choose a restaurant: choose_restaurant.html</li>
<p>    URL: http://localhost:8000/rest_picker/food/&lt;food_id&gt;/town/&lt;town_id&gt;<br>
    We only need to pass the restaurant id to the next screen.</p>
<li>Restaurant details: rest_detail.html</li>
<p>    URL: http://localhost:8000/rest_picker/rest/&lt;rest_id&gt;<br>
    Final screen.
</p></ol>
<p><strong>rest_picker/urls.py</strong></p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da7c7382971215" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">urls.py</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">from django.conf.urls import patterns, include, url
from django.contrib import admin
admin.autodiscover()

urlpatterns = patterns('',
    url(r'^admin/', include(admin.site.urls)),
    url(r'^rest_picker/',include('restaurants.urls', namespace='restaurants')),
)</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da7c7382971215-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7c7382971215-2">2</div><div class="crayon-num" data-line="crayon-59a88327da7c7382971215-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7c7382971215-4">4</div><div class="crayon-num" data-line="crayon-59a88327da7c7382971215-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7c7382971215-6">6</div><div class="crayon-num" data-line="crayon-59a88327da7c7382971215-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7c7382971215-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da7c7382971215-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">django</span><span class="crayon-sy">.</span><span class="crayon-v">conf</span><span class="crayon-sy">.</span><span class="crayon-e">urls </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">patterns</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">include</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">url</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7c7382971215-2"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">django</span><span class="crayon-sy">.</span><span class="crayon-e">contrib </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">admin</span></div><div class="crayon-line" id="crayon-59a88327da7c7382971215-3"><span class="crayon-v">admin</span><span class="crayon-sy">.</span><span class="crayon-e">autodiscover</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7c7382971215-4">&nbsp;</div><div class="crayon-line" id="crayon-59a88327da7c7382971215-5"><span class="crayon-v">urlpatterns</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">patterns</span><span class="crayon-sy">(</span><span class="crayon-s">''</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7c7382971215-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">url</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'^admin/'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">include</span><span class="crayon-sy">(</span><span class="crayon-v">admin</span><span class="crayon-sy">.</span><span class="crayon-k ">site</span><span class="crayon-sy">.</span><span class="crayon-v">urls</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da7c7382971215-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">url</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'^rest_picker/'</span><span class="crayon-sy">,</span><span class="crayon-e">include</span><span class="crayon-sy">(</span><span class="crayon-s">'restaurants.urls'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">namespace</span><span class="crayon-o">=</span><span class="crayon-s">'restaurants'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7c7382971215-8"><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0036 seconds] -->

<p>We are saying that all the urls that are like <strong>http://localhost:8000/rest_picker/</strong> must look into the <strong>restaurants/urls.py</strong> file. The <em>namespace</em> parameter, again, is to avoid naming conflicts for different applications in the same project.</p>
<p><strong>restaurants/urls.py</strong></p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da7d0480652075" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">urls.py</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">from django.conf.urls import patterns, url
from django.views.generic import ListView
from restaurants.models import Food
from django.conf import settings

urlpatterns = patterns('restaurants.views',
       url(r'^$',
           ListView.as_view(model=Food,
             template_name='restaurants/index.html'),
           name='index'),
       url(r'^food/(?P&amp;lt;food_id&amp;gt;\d+)/$', 
           'choose_town', 
           name='choose_town'),
       url(r'^food/(?P&amp;lt;food_id&amp;gt;\d+)/town/(?P&amp;lt;town_id&amp;gt;\d+)/$', 
           'choose_restaurant', 
           name='choose_restaurant'),
       url(r'^rest/(?P&amp;lt;rest_id&amp;gt;\d+)/$', 
           'restaurant', 
           name='restaurant'),
       url(r'^(?P&amp;lt;rest_id&amp;gt;\d+)/vote/$', 
           'vote', 
           name='vote'),
)

if settings.DEBUG:
    urlpatterns += patterns('',
         (r'^media/(?P.*)$', 
          'django.views.static.serve', 
         {'document_root': settings.MEDIA_ROOT}))</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da7d0480652075-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7d0480652075-2">2</div><div class="crayon-num" data-line="crayon-59a88327da7d0480652075-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7d0480652075-4">4</div><div class="crayon-num" data-line="crayon-59a88327da7d0480652075-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7d0480652075-6">6</div><div class="crayon-num" data-line="crayon-59a88327da7d0480652075-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7d0480652075-8">8</div><div class="crayon-num" data-line="crayon-59a88327da7d0480652075-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7d0480652075-10">10</div><div class="crayon-num" data-line="crayon-59a88327da7d0480652075-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7d0480652075-12">12</div><div class="crayon-num" data-line="crayon-59a88327da7d0480652075-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7d0480652075-14">14</div><div class="crayon-num" data-line="crayon-59a88327da7d0480652075-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7d0480652075-16">16</div><div class="crayon-num" data-line="crayon-59a88327da7d0480652075-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7d0480652075-18">18</div><div class="crayon-num" data-line="crayon-59a88327da7d0480652075-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7d0480652075-20">20</div><div class="crayon-num" data-line="crayon-59a88327da7d0480652075-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7d0480652075-22">22</div><div class="crayon-num" data-line="crayon-59a88327da7d0480652075-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7d0480652075-24">24</div><div class="crayon-num" data-line="crayon-59a88327da7d0480652075-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7d0480652075-26">26</div><div class="crayon-num" data-line="crayon-59a88327da7d0480652075-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7d0480652075-28">28</div><div class="crayon-num" data-line="crayon-59a88327da7d0480652075-29">29</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da7d0480652075-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">django</span><span class="crayon-sy">.</span><span class="crayon-v">conf</span><span class="crayon-sy">.</span><span class="crayon-e">urls </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">patterns</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">url</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7d0480652075-2"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">django</span><span class="crayon-sy">.</span><span class="crayon-v">views</span><span class="crayon-sy">.</span><span class="crayon-e">generic </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">ListView</span></div><div class="crayon-line" id="crayon-59a88327da7d0480652075-3"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">restaurants</span><span class="crayon-sy">.</span><span class="crayon-e">models </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">Food</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7d0480652075-4"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">django</span><span class="crayon-sy">.</span><span class="crayon-e">conf </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">settings</span></div><div class="crayon-line" id="crayon-59a88327da7d0480652075-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7d0480652075-6"><span class="crayon-v">urlpatterns</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">patterns</span><span class="crayon-sy">(</span><span class="crayon-s">'restaurants.views'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da7d0480652075-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">url</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'^$'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7d0480652075-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">ListView</span><span class="crayon-sy">.</span><span class="crayon-e">as_view</span><span class="crayon-sy">(</span><span class="crayon-v">model</span><span class="crayon-o">=</span><span class="crayon-v">Food</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da7d0480652075-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">template_name</span><span class="crayon-o">=</span><span class="crayon-s">'restaurants/index.html'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7d0480652075-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">'index'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da7d0480652075-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">url</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'^food/(?P&amp;lt;food_id&amp;gt;\d+)/$'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7d0480652075-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'choose_town'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-59a88327da7d0480652075-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">'choose_town'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7d0480652075-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">url</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'^food/(?P&amp;lt;food_id&amp;gt;\d+)/town/(?P&amp;lt;town_id&amp;gt;\d+)/$'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-59a88327da7d0480652075-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'choose_restaurant'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7d0480652075-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">'choose_restaurant'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da7d0480652075-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">url</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'^rest/(?P&amp;lt;rest_id&amp;gt;\d+)/$'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7d0480652075-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'restaurant'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-59a88327da7d0480652075-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">'restaurant'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7d0480652075-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">url</span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'^(?P&amp;lt;rest_id&amp;gt;\d+)/vote/$'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-59a88327da7d0480652075-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'vote'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7d0480652075-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">'vote'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da7d0480652075-23"><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7d0480652075-24">&nbsp;</div><div class="crayon-line" id="crayon-59a88327da7d0480652075-25"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">settings</span><span class="crayon-sy">.</span><span class="crayon-v">DEBUG</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7d0480652075-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">urlpatterns</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-e">patterns</span><span class="crayon-sy">(</span><span class="crayon-s">''</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-59a88327da7d0480652075-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">(</span><span class="crayon-i">r</span><span class="crayon-s">'^media/(?P.*)$'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7d0480652075-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'django.views.static.serve'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-59a88327da7d0480652075-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">{</span><span class="crayon-s">'document_root'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">settings</span><span class="crayon-sy">.</span><span class="crayon-v">MEDIA_ROOT</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0082 seconds] -->

<p>There are generic views to allow you write common views of data without having to write too much code. <strong>ListView</strong> is one of them. When the regular expression is met (<em>http://localhost:8000/rest_picker/</em>) it calls the template defined in <strong>template_name</strong> (<em>index.html</em>). It looks for it at the folder templates, since we created the restaurants subfolder under it we need to specify the relative path. It passes a list with all the objects of the <em>Food</em> model (<em>food_list</em> = <model_name>_list) to the template. You can use a different name for this list of objects using the <strong>context_object_name</strong> attribute. Also, if you want to define a subset of objects you can use the <strong>queryset</strong> attribute along with a filter, for example something like <em>queryset = Food.objects.filter(name_startswith=’H’)</em>.</model_name></p>
<p>The <strong>name</strong> attribute we have defined for all urls lets you refer to it unambiguously from elsewhere in Django so you don’t have two urls with the same name. Again it is to avoid a naming conflict.</p>
<p>The rest of urls call to a function defined in views.py since they need of some Python code before calling the HTML template. You can see that the first parameter in the patterns function is not empty this time, it is set as <em>restaurants.views</em>. Because of this when you define the function to be called when the regular expression is met you only use <em>choose_town</em>. If the prefix would have been empty you would have had to use <em>restaurants.views.choose_town</em>.</p>
<p>Let’s look at <em>(?P&lt;food_id&gt;\d+)</em>. Using parentheses around a pattern captures the text matched by that pattern and sends it as an argument to the view function; <em>?P&lt;food_id&gt;</em> defines the name that will be used to identify the matched pattern; and <em>\d+</em> is a regular expression to match a sequence of digits (i.e., a number). So, if we have <em>http://localhost:8000/rest_picker/food/3</em> we will be calling to the function <em>choose_town</em> inside <em>views.py</em> and passing to it <em>food_id=3</em>.</p>
<p>The last part is used to serve the images uploaded through the admin site. <strong>This way of serving static files is ONLY valid when working with the development server</strong> where we can use the <em>django.views.static.serve</em> view. For production you will need to set up your web server to serve static files. This is out of the scope of this tutorial, you can find more information about this in the <a href="https://docs.djangoproject.com/en/dev/howto/static-files/deployment/" title="Django Site" target="_blank">django</a> site.</p>
<p><strong>restaurants/views.py</strong></p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da7e0751190121" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">views.py</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">from django.shortcuts import render, get_object_or_404
from restaurants.models import Restaurant, Town

def choose_town(request, food_id):
    rest_list = Restaurant.objects.filter(food=food_id)
    town_list=[]
    for r in rest_list:
        t = Town.objects.get(id=r.town.id)
        if t not in town_list:
            rests = Restaurant.objects.filter(food__id=food_id, 
                                              town__id=t.id)
            town_list.append({'town':t, 'count':len(rests)})
    return render(request, 'restaurants/choose_town.html', 
                 {'food_id':food_id, 'town_list': town_list})

def choose_restaurant(request,food_id,town_id):
    rests = Restaurant.objects.filter(food__id=food_id, 
                                      town__id=town_id)
    return render(request,'restaurants/choose_restaurant.html', 
                 {'rests':rests})

def restaurant(request, rest_id, message=''):
    rest = Restaurant.objects.get(id=rest_id)
    rest_menu = rest.menu.split(';')
    rest_menu = [e for e in rest_menu if e not in ('',' ')]
    return render(request, 'restaurants/restaurant.html', 
                 {'restaurant':rest, 'rest_menu': rest_menu, 
                  'message':message})

def vote(request, rest_id):
    rest = get_object_or_404(Restaurant, pk=rest_id)

    votes = rest.votes
    submitted = request.POST['note_utilisateur']
    average = (votes + int(submitted))/2
    rest.votes = average
    rest.save()

    rest_menu = rest.menu.split(';')
    rest_menu = [e for e in rest_menu if e not in ('',' ')]

    message='Thanks for your vote!'
    return render(request, 'restaurants/restaurant.html', 
                 {'restaurant':rest, 'rest_menu': rest_menu, 
                  'message':message})</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-2">2</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-4">4</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-6">6</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-8">8</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-10">10</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-12">12</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-14">14</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-16">16</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-18">18</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-20">20</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-22">22</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-24">24</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-26">26</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-28">28</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-30">30</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-32">32</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-34">34</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-36">36</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-38">38</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-40">40</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-42">42</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7e0751190121-44">44</div><div class="crayon-num" data-line="crayon-59a88327da7e0751190121-45">45</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da7e0751190121-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">django</span><span class="crayon-sy">.</span><span class="crayon-e">shortcuts </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">render</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">get_object_or_404</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-2"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">restaurants</span><span class="crayon-sy">.</span><span class="crayon-e">models </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">Restaurant</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Town</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-4"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">choose_town</span><span class="crayon-sy">(</span><span class="crayon-v">request</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">food_id</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rest_list</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Restaurant</span><span class="crayon-sy">.</span><span class="crayon-v">objects</span><span class="crayon-sy">.</span><span class="crayon-k ">filter</span><span class="crayon-sy">(</span><span class="crayon-v">food</span><span class="crayon-o">=</span><span class="crayon-v">food_id</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">town_list</span><span class="crayon-o">=</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">r</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">rest_list</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">t</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Town</span><span class="crayon-sy">.</span><span class="crayon-v">objects</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-k ">id</span><span class="crayon-o">=</span><span class="crayon-v">r</span><span class="crayon-sy">.</span><span class="crayon-v">town</span><span class="crayon-sy">.</span><span class="crayon-k ">id</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">town_list</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rests</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Restaurant</span><span class="crayon-sy">.</span><span class="crayon-v">objects</span><span class="crayon-sy">.</span><span class="crayon-k ">filter</span><span class="crayon-sy">(</span><span class="crayon-v">food__id</span><span class="crayon-o">=</span><span class="crayon-v">food_id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">town__id</span><span class="crayon-o">=</span><span class="crayon-v">t</span><span class="crayon-sy">.</span><span class="crayon-k ">id</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">town_list</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span><span class="crayon-s">'town'</span><span class="crayon-o">:</span><span class="crayon-v">t</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'count'</span><span class="crayon-o">:</span><span class="crayon-k ">len</span><span class="crayon-sy">(</span><span class="crayon-v">rests</span><span class="crayon-sy">)</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-v">request</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'restaurants/choose_town.html'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">{</span><span class="crayon-s">'food_id'</span><span class="crayon-o">:</span><span class="crayon-v">food_id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'town_list'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">town_list</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-16"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">choose_restaurant</span><span class="crayon-sy">(</span><span class="crayon-v">request</span><span class="crayon-sy">,</span><span class="crayon-v">food_id</span><span class="crayon-sy">,</span><span class="crayon-v">town_id</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rests</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Restaurant</span><span class="crayon-sy">.</span><span class="crayon-v">objects</span><span class="crayon-sy">.</span><span class="crayon-k ">filter</span><span class="crayon-sy">(</span><span class="crayon-v">food__id</span><span class="crayon-o">=</span><span class="crayon-v">food_id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">town__id</span><span class="crayon-o">=</span><span class="crayon-v">town_id</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-v">request</span><span class="crayon-sy">,</span><span class="crayon-s">'restaurants/choose_restaurant.html'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">{</span><span class="crayon-s">'rests'</span><span class="crayon-o">:</span><span class="crayon-v">rests</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-22"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">restaurant</span><span class="crayon-sy">(</span><span class="crayon-v">request</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">rest_id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-o">=</span><span class="crayon-s">''</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rest</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Restaurant</span><span class="crayon-sy">.</span><span class="crayon-v">objects</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-k ">id</span><span class="crayon-o">=</span><span class="crayon-v">rest_id</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rest_menu</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">rest</span><span class="crayon-sy">.</span><span class="crayon-v">menu</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">';'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rest_menu</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">rest_menu </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">''</span><span class="crayon-sy">,</span><span class="crayon-s">' '</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-v">request</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'restaurants/restaurant.html'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">{</span><span class="crayon-s">'restaurant'</span><span class="crayon-o">:</span><span class="crayon-v">rest</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'rest_menu'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">rest_menu</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'message'</span><span class="crayon-o">:</span><span class="crayon-v">message</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-29">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-30"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">vote</span><span class="crayon-sy">(</span><span class="crayon-v">request</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">rest_id</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rest</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">get_object_or_404</span><span class="crayon-sy">(</span><span class="crayon-v">Restaurant</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">pk</span><span class="crayon-o">=</span><span class="crayon-v">rest_id</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-32">&nbsp;</div><div class="crayon-line" id="crayon-59a88327da7e0751190121-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">votes</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">rest</span><span class="crayon-sy">.</span><span class="crayon-e">votes</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-34"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">submitted</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">request</span><span class="crayon-sy">.</span><span class="crayon-v">POST</span><span class="crayon-sy">[</span><span class="crayon-s">'note_utilisateur'</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">average</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">votes</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-k ">int</span><span class="crayon-sy">(</span><span class="crayon-v">submitted</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-o">/</span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rest</span><span class="crayon-sy">.</span><span class="crayon-v">votes</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">average</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-37"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rest</span><span class="crayon-sy">.</span><span class="crayon-e">save</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-38">&nbsp;</div><div class="crayon-line" id="crayon-59a88327da7e0751190121-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rest_menu</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">rest</span><span class="crayon-sy">.</span><span class="crayon-v">menu</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">';'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rest_menu</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">rest_menu </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">''</span><span class="crayon-sy">,</span><span class="crayon-s">' '</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-41">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">message</span><span class="crayon-o">=</span><span class="crayon-s">'Thanks for your vote!'</span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-v">request</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'restaurants/restaurant.html'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7e0751190121-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">{</span><span class="crayon-s">'restaurant'</span><span class="crayon-o">:</span><span class="crayon-v">rest</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'rest_menu'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">rest_menu</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-59a88327da7e0751190121-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'message'</span><span class="crayon-o">:</span><span class="crayon-v">message</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0210 seconds] -->

<p>The <strong>render</strong> function calls the HTML template and it passes the parameters needed in a dictionary to that template. Those parameters are processed in the Python code.</p>
<p><strong>choose_town</strong> builds a list with the towns that have restaurants with that food_id and also the number of restaurants in that town with that food. This number is the one displayed in the bubble. We also transfer the food_id because we will need it later in the workflow.</p>
<p><strong>choose_restaurant</strong> gets the restaurants with that food_id and town_id.</p>
<p><strong>restaurant</strong> processes the field menu of the Restaurant model. We said before that we had to separate the elements in the list with semicolons when entering through the admin site. We are getting now this elements and passing them to the html template. The message parameter is empty by default.</p>
<p><strong>vote</strong> is the function that processes the votation. It calls again to the restaurant html template but passing a <em>Thank you</em> message for voting. As this is a Model-View-Controller framework, the calculation of the votes should be contained in the <em>models.py</em> file and not in the <em>views.py</em> file to keep the independence of the parts. We have done it this way for simplication.</p>
<h2>HTML templates</h2>
<p>Now we will use the templates generated in the jQuery Mobile tutorial. We have to copy the .html files (index.html, choose_town.html, choose_restaurant.html, restaurant.html) under restaurants/templates/restaurants/.</p>
<p>The .css files are static files. Django looks for these files in a static folder placed under the root app folder. We need to create that directory (restaurants/static/restaurants/). In order to reuse the paths we used in the .html files of the jQuery Mobile tutorial we will create an images and a js folder under it and we will copy here all the resources. Let’s have a look how does the folder structure looks like now:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da7f2436778606" class="crayon-syntax crayon-theme-terminal crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">/home/dev/rest_picker/
    media/
        images/
    rest_picker/
        __init__.py
        settings.py
        urls.py
        wsgi.py
    restaurants/
        static/
            restaurants/
                images/
                    ajax-loader.png
                    bg.png
                    header_bg.png
                    header_logo.png
                    icons-18-black.png
                    icons-18-white.png
                    icons-36-black.png
                    icons-36-white.png
                    launch_icon_114.png
                    launch_icon_57.png
                    launch_icon_72.png
                    logo.png
                    maps.png
                    pagination.png
                    phone.png
                js/
                    addstarscript.js
                    jquery-1.7.1.min.js
                    jquery.mobile-1.0.1.js
                    jquery.mobile-1.0.1.min.js
            custom.css
            jquery.mobile-1.0.1.css
            jquery.mobile.structure-1.0.1.css
        templates/
            restaurants/
                choose_restaurant.html
                choose_town.html
                index.html
                restaurant.html
        __init__.py
        admin.py
        models.py
        tests.py
        urls.py
        views.py
        manage.py
        rest_picker.db</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="margin-left: -26px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-2">2</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-4">4</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-6">6</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-8">8</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-10">10</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-12">12</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-14">14</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-16">16</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-18">18</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-20">20</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-22">22</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-24">24</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-26">26</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-28">28</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-30">30</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-32">32</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-34">34</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-36">36</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-38">38</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-40">40</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-42">42</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-44">44</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-46">46</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7f2436778606-48">48</div><div class="crayon-num" data-line="crayon-59a88327da7f2436778606-49">49</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da7f2436778606-1"><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-v">rest_picker</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">media</span><span class="crayon-o">/</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">images</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rest_picker</span><span class="crayon-o">/</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">__init__</span><span class="crayon-e">.py</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">settings</span><span class="crayon-e">.py</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">urls</span><span class="crayon-e">.py</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">wsgi</span><span class="crayon-e">.py</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">restaurants</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">static</span><span class="crayon-o">/</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">restaurants</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">images</span><span class="crayon-o">/</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ajax</span><span class="crayon-o">-</span><span class="crayon-v">loader</span><span class="crayon-e">.png</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">bg</span><span class="crayon-e">.png</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">header_bg</span><span class="crayon-e">.png</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">header_logo</span><span class="crayon-e">.png</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">icons</span><span class="crayon-o">-</span><span class="crayon-cn">18</span><span class="crayon-o">-</span><span class="crayon-v">black</span><span class="crayon-e">.png</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">icons</span><span class="crayon-o">-</span><span class="crayon-cn">18</span><span class="crayon-o">-</span><span class="crayon-v">white</span><span class="crayon-e">.png</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">icons</span><span class="crayon-o">-</span><span class="crayon-cn">36</span><span class="crayon-o">-</span><span class="crayon-v">black</span><span class="crayon-e">.png</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">icons</span><span class="crayon-o">-</span><span class="crayon-cn">36</span><span class="crayon-o">-</span><span class="crayon-v">white</span><span class="crayon-e">.png</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">launch_icon_114</span><span class="crayon-e">.png</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">launch_icon_57</span><span class="crayon-e">.png</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">launch_icon_72</span><span class="crayon-e">.png</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">logo</span><span class="crayon-e">.png</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">maps</span><span class="crayon-e">.png</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pagination</span><span class="crayon-e">.png</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">phone</span><span class="crayon-e">.png</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">js</span><span class="crayon-o">/</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">addstarscript</span><span class="crayon-e">.js</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">jquery</span><span class="crayon-o">-</span><span class="crayon-cn">1.7.1.min.js</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">jquery</span><span class="crayon-e">.mobile</span><span class="crayon-o">-</span><span class="crayon-cn">1.0.1.js</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">jquery</span><span class="crayon-e">.mobile</span><span class="crayon-o">-</span><span class="crayon-cn">1.0.1.min.js</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">custom</span><span class="crayon-e">.css</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">jquery</span><span class="crayon-e">.mobile</span><span class="crayon-o">-</span><span class="crayon-cn">1.0.1.css</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">jquery</span><span class="crayon-e">.mobile</span><span class="crayon-e">.structure</span><span class="crayon-o">-</span><span class="crayon-cn">1.0.1.css</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">templates</span><span class="crayon-o">/</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">restaurants</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">choose_restaurant</span><span class="crayon-e">.html</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">choose_town</span><span class="crayon-e">.html</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">index</span><span class="crayon-e">.html</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">restaurant</span><span class="crayon-e">.html</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">__init__</span><span class="crayon-e">.py</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">admin</span><span class="crayon-e">.py</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">models</span><span class="crayon-e">.py</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">tests</span><span class="crayon-e">.py</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">urls</span><span class="crayon-e">.py</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">views</span><span class="crayon-e">.py</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7f2436778606-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">manage</span><span class="crayon-e">.py</span></div><div class="crayon-line" id="crayon-59a88327da7f2436778606-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rest_picker</span><span class="crayon-e">.db</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0083 seconds] -->

<p>Let’s look at the templates now. We need to change some things to retrieve the data from our database.</p>
<p><strong>index.html</strong></p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da7fe116858863" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">index.html</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">{% load staticfiles %}
{% load url from future %}

&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
  &lt;meta charset="UTF-8"&gt;    
    &lt;title&gt;Restaurant Picker&lt;/title&gt; 
    
    &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt; 
    &lt;link rel="stylesheet" type="text/css" href="{% static 'restaurants/jquery.mobile.structure-1.0.1.css' %}" /&gt;
    &lt;link rel="apple-touch-icon" href="{% static 'restaurants/images/launch_icon_57.png' %}" /&gt;
    &lt;link rel="apple-touch-icon" sizes="72x72" href="{% static 'restaurants/images/launch_icon_72.png' %}" /&gt;
    &lt;link rel="apple-touch-icon" sizes="114x114" href="{% static 'restaurants/images/launch_icon_114.png' %}" /&gt;
    &lt;link rel="stylesheet" type="text/css" href="{% static 'restaurants/jquery.mobile-1.0.1.css' %}" /&gt;
    &lt;link rel="stylesheet" type="text/css" href="{% static 'restaurants/custom.css' %}" /&gt;
    &lt;script type="text/javascript" src="{% static 'restaurants/js/jquery-1.7.1.min.js' %}"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" src="{% static 'restaurants/js/jquery.mobile-1.0.1.min.js' %}"&gt;&lt;/script&gt;

&lt;/head&gt;

&lt;body&gt;
&lt;div data-role="page" id="home" data-theme="c"&gt;
    &lt;div data-role="content"&gt;
        &lt;div id="branding"&gt;
            &lt;h1&gt;Restaurant Picker &lt;/h1&gt;
        &lt;/div&gt;

        &lt;div class="choice_list"&gt;
        &lt;h1&gt; What would you'd like to eat? &lt;/h1&gt;
        {% if food_list %}
            &lt;ul data-role="listview" data-inset="true" &gt;
                {% for f in food_list %}
                &lt;li&gt;&lt;a href="{% url 'restaurants:choose_town' f.id %}" data-transition="slidedown"&gt;&lt;img src={{f.picture.url}}/&gt;&lt;h3&gt;{{  f.name }}&lt;/h3&gt;&lt;/a&gt;&lt;/li&gt;
                {% endfor %}
            &lt;/ul&gt;
        {% endif%}
    &lt;/div&gt;
    &lt;/div&gt;

&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num crayon-marked-num crayon-top" data-line="crayon-59a88327da7fe116858863-1">1</div><div class="crayon-num crayon-marked-num crayon-bottom crayon-striped-num" data-line="crayon-59a88327da7fe116858863-2">2</div><div class="crayon-num" data-line="crayon-59a88327da7fe116858863-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-4">4</div><div class="crayon-num" data-line="crayon-59a88327da7fe116858863-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-6">6</div><div class="crayon-num" data-line="crayon-59a88327da7fe116858863-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-8">8</div><div class="crayon-num" data-line="crayon-59a88327da7fe116858863-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-10">10</div><div class="crayon-num crayon-marked-num crayon-top" data-line="crayon-59a88327da7fe116858863-11">11</div><div class="crayon-num crayon-marked-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-12">12</div><div class="crayon-num crayon-marked-num" data-line="crayon-59a88327da7fe116858863-13">13</div><div class="crayon-num crayon-marked-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-14">14</div><div class="crayon-num crayon-marked-num" data-line="crayon-59a88327da7fe116858863-15">15</div><div class="crayon-num crayon-marked-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-16">16</div><div class="crayon-num crayon-marked-num" data-line="crayon-59a88327da7fe116858863-17">17</div><div class="crayon-num crayon-marked-num crayon-bottom crayon-striped-num" data-line="crayon-59a88327da7fe116858863-18">18</div><div class="crayon-num" data-line="crayon-59a88327da7fe116858863-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-20">20</div><div class="crayon-num" data-line="crayon-59a88327da7fe116858863-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-22">22</div><div class="crayon-num" data-line="crayon-59a88327da7fe116858863-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-24">24</div><div class="crayon-num" data-line="crayon-59a88327da7fe116858863-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-26">26</div><div class="crayon-num" data-line="crayon-59a88327da7fe116858863-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-28">28</div><div class="crayon-num" data-line="crayon-59a88327da7fe116858863-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-30">30</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom" data-line="crayon-59a88327da7fe116858863-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-32">32</div><div class="crayon-num crayon-marked-num crayon-top" data-line="crayon-59a88327da7fe116858863-33">33</div><div class="crayon-num crayon-marked-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-34">34</div><div class="crayon-num crayon-marked-num crayon-bottom" data-line="crayon-59a88327da7fe116858863-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-36">36</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom" data-line="crayon-59a88327da7fe116858863-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-38">38</div><div class="crayon-num" data-line="crayon-59a88327da7fe116858863-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-40">40</div><div class="crayon-num" data-line="crayon-59a88327da7fe116858863-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da7fe116858863-42">42</div><div class="crayon-num" data-line="crayon-59a88327da7fe116858863-43">43</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line crayon-marked-line crayon-top" id="crayon-59a88327da7fe116858863-1"><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-e">load </span><span class="crayon-v">staticfiles</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-marked-line crayon-bottom crayon-striped-line" id="crayon-59a88327da7fe116858863-2"><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-e">load </span><span class="crayon-e">url </span><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">future</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-59a88327da7fe116858863-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7fe116858863-4"><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-e">DOCTYPE </span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da7fe116858863-5"><span class="crayon-o">&lt;</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7fe116858863-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da7fe116858863-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-v">charset</span><span class="crayon-o">=</span><span class="crayon-s">"UTF-8"</span><span class="crayon-o">&gt;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7fe116858863-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span><span class="crayon-e">Restaurant </span><span class="crayon-v">Picker</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-59a88327da7fe116858863-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7fe116858863-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"viewport"</span><span class="crayon-h"> </span><span class="crayon-v">content</span><span class="crayon-o">=</span><span class="crayon-s">"width=device-width, initial-scale=1"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-marked-line crayon-top" id="crayon-59a88327da7fe116858863-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-h"> </span><span class="crayon-k ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/css"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"{% static 'restaurants/jquery.mobile.structure-1.0.1.css' %}"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-59a88327da7fe116858863-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"apple-touch-icon"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"{% static 'restaurants/images/launch_icon_57.png' %}"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line" id="crayon-59a88327da7fe116858863-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"apple-touch-icon"</span><span class="crayon-h"> </span><span class="crayon-v">sizes</span><span class="crayon-o">=</span><span class="crayon-s">"72x72"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"{% static 'restaurants/images/launch_icon_72.png' %}"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-59a88327da7fe116858863-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"apple-touch-icon"</span><span class="crayon-h"> </span><span class="crayon-v">sizes</span><span class="crayon-o">=</span><span class="crayon-s">"114x114"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"{% static 'restaurants/images/launch_icon_114.png' %}"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line" id="crayon-59a88327da7fe116858863-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-h"> </span><span class="crayon-k ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/css"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"{% static 'restaurants/jquery.mobile-1.0.1.css' %}"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-59a88327da7fe116858863-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-h"> </span><span class="crayon-k ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/css"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"{% static 'restaurants/custom.css' %}"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line" id="crayon-59a88327da7fe116858863-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"{% static 'restaurants/js/jquery-1.7.1.min.js' %}"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-marked-line crayon-bottom crayon-striped-line" id="crayon-59a88327da7fe116858863-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"{% static 'restaurants/js/jquery.mobile-1.0.1.min.js' %}"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-59a88327da7fe116858863-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7fe116858863-20"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da7fe116858863-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7fe116858863-22"><span class="crayon-o">&lt;</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da7fe116858863-23"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"page"</span><span class="crayon-h"> </span><span class="crayon-k ">id</span><span class="crayon-o">=</span><span class="crayon-s">"home"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">theme</span><span class="crayon-o">=</span><span class="crayon-s">"c"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7fe116858863-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"content"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da7fe116858863-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-k ">id</span><span class="crayon-o">=</span><span class="crayon-s">"branding"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7fe116858863-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span><span class="crayon-e">Restaurant </span><span class="crayon-v">Picker</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da7fe116858863-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7fe116858863-28">&nbsp;</div><div class="crayon-line" id="crayon-59a88327da7fe116858863-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"choice_list"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7fe116858863-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">What </span><span class="crayon-e">would </span><span class="crayon-i">you</span><span class="crayon-s">'d like to eat? &lt;/h1&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-59a88327da7fe116858863-31"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{% if food_list %}</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7fe116858863-32"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul data-role="listview" data-inset="true" &gt;</span></div><div class="crayon-line crayon-marked-line crayon-top" id="crayon-59a88327da7fe116858863-33"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{% for f in food_list %}</span></div><div class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-59a88327da7fe116858863-34"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="{% url '</span><span class="crayon-v">restaurants</span><span class="crayon-o">:</span><span class="crayon-v">choose</span><span class="crayon-sy">_</span>town'<span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-k ">id</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-s">" data-transition="</span><span class="crayon-i">slidedown</span>"<span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">picture</span><span class="crayon-sy">.</span><span class="crayon-v">url</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">h3</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-i">name</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">h3</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">li</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-bottom" id="crayon-59a88327da7fe116858863-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-v">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7fe116858863-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">ul</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-59a88327da7fe116858863-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-v">endif</span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7fe116858863-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da7fe116858863-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7fe116858863-40">&nbsp;</div><div class="crayon-line" id="crayon-59a88327da7fe116858863-41"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da7fe116858863-42"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da7fe116858863-43"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0184 seconds] -->

<p>I have highlightened the lines that have been changed adding Django syntax.</p>
<p>The first thing we have to do is to change the way of defining static files (.css, .js, .png). We specify that the element is static so that Django knows where to look for those resources, and then the relative path and the name to the resource.</p>
<p>We use the list of <em>Food</em> objects that we passed in the <em>ListView</em> (<em>food_list</em>) to go through all the foods. We display the name and the image associated to that food and also the url that must be called when clicking in one element passing the <em>food_id</em>.</p>
<p>The only thing that is going to change from one template to another is the body, so I will just copy the body for the rest of templates.</p>
<p><strong>choose_town.html</strong></p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da80c164790435" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">choose_town.html</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">&lt;body&gt;
&lt;div id="choisir_ville" data-role="page" data-add-back-btn="true"&gt;
    &lt;div data-role="header"&gt;
        &lt;h1&gt; Restaurant Picker&lt;/h1&gt;
    &lt;/div&gt;
    &lt;div data-role="content"&gt;
        &lt;div class="choice_list"&gt;
            &lt;h1&gt; In which town do you want to eat? &lt;/h1&gt;
            {% if town_list %}
                &lt;ul data-role="listview" data-inset="true" data-filter="true"  &gt;
                    {% for town_dict in town_list %}
                            &lt;li&gt;&lt;a href="{% url 'restaurants:choose_restaurant' food_id town_dict.town.id %}"  data-transition="slidedown"&gt;{{ town_dict.town.name }}&lt;span class="ui-li- count"&gt;{{ town_dict.count }}&lt;/span&gt;&lt;/a&gt; &lt;/li&gt;
                    {% endfor %}
                &lt;/ul&gt;
            {% endif %}
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da80c164790435-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da80c164790435-2">2</div><div class="crayon-num" data-line="crayon-59a88327da80c164790435-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da80c164790435-4">4</div><div class="crayon-num" data-line="crayon-59a88327da80c164790435-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da80c164790435-6">6</div><div class="crayon-num" data-line="crayon-59a88327da80c164790435-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da80c164790435-8">8</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom" data-line="crayon-59a88327da80c164790435-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da80c164790435-10">10</div><div class="crayon-num crayon-marked-num crayon-top" data-line="crayon-59a88327da80c164790435-11">11</div><div class="crayon-num crayon-marked-num crayon-striped-num" data-line="crayon-59a88327da80c164790435-12">12</div><div class="crayon-num crayon-marked-num crayon-bottom" data-line="crayon-59a88327da80c164790435-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da80c164790435-14">14</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom" data-line="crayon-59a88327da80c164790435-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da80c164790435-16">16</div><div class="crayon-num" data-line="crayon-59a88327da80c164790435-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da80c164790435-18">18</div><div class="crayon-num" data-line="crayon-59a88327da80c164790435-19">19</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da80c164790435-1"><span class="crayon-o">&lt;</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da80c164790435-2"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-k ">id</span><span class="crayon-o">=</span><span class="crayon-s">"choisir_ville"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"page"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">add</span><span class="crayon-o">-</span><span class="crayon-v">back</span><span class="crayon-o">-</span><span class="crayon-v">btn</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da80c164790435-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"header"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da80c164790435-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">Restaurant </span><span class="crayon-v">Picker</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da80c164790435-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da80c164790435-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"content"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da80c164790435-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"choice_list"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da80c164790435-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-st">In</span><span class="crayon-h"> </span><span class="crayon-e">which</span><span class="crayon-h"> </span><span class="crayon-e">town</span><span class="crayon-h"> </span><span class="crayon-e">do</span><span class="crayon-h"> </span><span class="crayon-e">you</span><span class="crayon-h"> </span><span class="crayon-e">want</span><span class="crayon-h"> </span><span class="crayon-e">to</span><span class="crayon-h"> </span><span class="crayon-e">eat</span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-59a88327da80c164790435-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">town_list</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da80c164790435-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">ul </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"listview"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">inset</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-k ">filter</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top" id="crayon-59a88327da80c164790435-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">town_dict </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">town_list</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-59a88327da80c164790435-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"{% url 'restaurants:choose_restaurant' food_id town_dict.town.id %}"</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">transition</span><span class="crayon-o">=</span><span class="crayon-s">"slidedown"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">town_dict</span><span class="crayon-sy">.</span><span class="crayon-v">town</span><span class="crayon-sy">.</span><span class="crayon-i">name</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"ui-li- count"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">town_dict</span><span class="crayon-sy">.</span><span class="crayon-i">count</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">li</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-bottom" id="crayon-59a88327da80c164790435-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-v">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da80c164790435-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">ul</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-59a88327da80c164790435-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-v">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da80c164790435-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da80c164790435-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da80c164790435-18"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da80c164790435-19"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0104 seconds] -->

<p>We do the same here but going through the list of towns. This time we pass two parameters to the url linked to the town, the <em>food_id</em> and the <em>town_id</em>. And besides the name of the town we display the number of restaurants in that town for that food.</p>
<p><strong>choose_restaurant.html</strong></p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da816632451214" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">choose_restaurant.html</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">&lt;body&gt;
&lt;div id="choisir_restau" data-role="page" data-add-back-btn="true"&gt;
    &lt;div data-role="header"&gt;
        &lt;h1&gt; Restaurant Picker&lt;/h1&gt;
    &lt;/div&gt;
    &lt;div data-role="content"&gt;
        &lt;div class="choice_list"&gt;
            &lt;h1&gt; Please choose a restaurant.&lt;/h1&gt;
            {% if rests %}
                &lt;ul data-role="listview" data-inset="true" &gt;
                    {% for r in rests %}
                    &lt;li&gt;&lt;a href="{% url 'restaurants:restaurant' r.id%}" data-transition="slidedown"&gt; &lt;img src={{ r.picture.url }}/&gt; &lt;h2&gt;{{ r.name }}&lt;/h2&gt; &lt;p class="classement {{r.get_votes_display}}"&gt;{{r.votes}} stars  &lt;/p&gt;&lt;/a&gt;&lt;/li&gt;
                    {% endfor %}
                &lt;/ul&gt;
            {% endif %}
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da816632451214-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da816632451214-2">2</div><div class="crayon-num" data-line="crayon-59a88327da816632451214-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da816632451214-4">4</div><div class="crayon-num" data-line="crayon-59a88327da816632451214-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da816632451214-6">6</div><div class="crayon-num" data-line="crayon-59a88327da816632451214-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da816632451214-8">8</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom" data-line="crayon-59a88327da816632451214-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da816632451214-10">10</div><div class="crayon-num crayon-marked-num crayon-top" data-line="crayon-59a88327da816632451214-11">11</div><div class="crayon-num crayon-marked-num crayon-striped-num" data-line="crayon-59a88327da816632451214-12">12</div><div class="crayon-num crayon-marked-num crayon-bottom" data-line="crayon-59a88327da816632451214-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da816632451214-14">14</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom" data-line="crayon-59a88327da816632451214-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da816632451214-16">16</div><div class="crayon-num" data-line="crayon-59a88327da816632451214-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da816632451214-18">18</div><div class="crayon-num" data-line="crayon-59a88327da816632451214-19">19</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da816632451214-1"><span class="crayon-o">&lt;</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da816632451214-2"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-k ">id</span><span class="crayon-o">=</span><span class="crayon-s">"choisir_restau"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"page"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">add</span><span class="crayon-o">-</span><span class="crayon-v">back</span><span class="crayon-o">-</span><span class="crayon-v">btn</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da816632451214-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"header"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da816632451214-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">Restaurant </span><span class="crayon-v">Picker</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da816632451214-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da816632451214-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"content"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da816632451214-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"choice_list"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da816632451214-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">Please </span><span class="crayon-i">choose</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">restaurant</span><span class="crayon-sy">.</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-59a88327da816632451214-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">rests</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da816632451214-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">ul </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"listview"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">inset</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top" id="crayon-59a88327da816632451214-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">r</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">rests</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-59a88327da816632451214-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"{% url 'restaurants:restaurant' r.id%}"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">transition</span><span class="crayon-o">=</span><span class="crayon-s">"slidedown"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">r</span><span class="crayon-sy">.</span><span class="crayon-v">picture</span><span class="crayon-sy">.</span><span class="crayon-i">url</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-e">h2</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">r</span><span class="crayon-sy">.</span><span class="crayon-i">name</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h2</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"classement {{r.get_votes_display}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">r</span><span class="crayon-sy">.</span><span class="crayon-v">votes</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-e">stars</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">li</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-bottom" id="crayon-59a88327da816632451214-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-v">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da816632451214-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">ul</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-59a88327da816632451214-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-v">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da816632451214-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da816632451214-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da816632451214-18"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da816632451214-19"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0107 seconds] -->

<p>For the list of restaurants we display the image of the restaurant, the name and the starts. And we pass the <em>restaurant_id</em> to the template that will be called when clicking in a restaurant.</p>
<p><strong>restaurant.html</strong></p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da820263846066" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">restaurant.html</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">&lt;body&gt;
&lt;div id="restau" data-role="page" data-add-back-btn="true"&gt;

    &lt;div data-role="header"&gt;
        &lt;h1&gt; Restaurant Picker&lt;/h1&gt;
    &lt;/div&gt; 

    &lt;div data-role="content"&gt;
        {% if message %}&lt;p&gt;&lt;strong&gt;{{ message }}&lt;/strong&gt;&lt;/p&gt;{% endif %}
    &lt;div class="ui-grid-a" id="restau_infos"&gt;
        &lt;div class="ui-block-a"&gt;
            &lt;h1&gt;{{ restaurant.name }}&lt;/h1&gt;
            &lt;p&gt;&lt;strong&gt;{{ restaurant.desc}}&lt;/strong&gt;&lt;/p&gt;
            &lt;p&gt; On the menu: &lt;/p&gt;
                &lt;ul&gt;
                    {% for m in rest_menu %}
                        &lt;li&gt;{{m}}&lt;/li&gt;
                    {% endfor %}
                &lt;/ul&gt;
        &lt;/div&gt;

        &lt;div class="ui-block-b"&gt;
            &lt;p&gt;&lt;img src={{ restaurant.picture.url }} alt={{restaurant.name}} /&gt;&lt;/p&gt;
            &lt;p&gt;&lt;a href="{{ restaurant.web }}" rel="external" data-role="button"&gt;See our website&lt;/a&gt;&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;&lt;!-- /grid-a --&gt;

    &lt;hr/&gt;

    &lt;div class="ui-grid-a" id="contact_infos"&gt;
        &lt;div class="ui-block-a"&gt;
            &lt;h2&gt; Contact us&lt;/h2&gt;
            &lt;p&gt;{{restaurant.address}}&lt;/p&gt;
            &lt;p&gt;{{restaurant.post_code}} {{restaurant.town }}&lt;/p&gt;
        &lt;/div&gt;

        &lt;div class="ui-block-b"&gt;
            &lt;img src={{restaurant.map.url}} alt="map" /&gt;
        &lt;/div&gt;
    &lt;/div&gt;&lt;!-- /grid-a --&gt;

    &lt;div id="contact_buttons"&gt;
        &lt;a href="{{restaurant.gmap_url}}" data-role="button" data-icon="maps"&gt; Find us on Google Maps &lt;/a&gt;
        &lt;a href="tel:{{restaurant.phone}}"  data-role="button" data-icon="tel"&gt; Call us &lt;/a&gt;
    &lt;/div&gt; 
    &lt;hr/&gt;

    &lt;div id="notation"&gt;
        &lt;form action="{% url 'restaurants:vote' restaurant.id %}" method="post"&gt;
        {% csrf_token %}
        &lt;label for="select-choice-0" class="select"&gt;&lt;h2&gt; User rating &lt;/h2&gt;&lt;/label&gt;
        &lt;select name="note_utilisateur" onchange="this.form.submit()" id="note_utilisateur" data-native-menu="false" data-theme="c" &gt;
           &lt;option&gt;Choose your vote&lt;/option&gt;
           &lt;option value="1" class="one"&gt; Not good at all &lt;/option&gt;
           &lt;option value="2" class="two"&gt;Average &lt;/option&gt;
           &lt;option value="3" class="three"&gt;Pretty good &lt;/option&gt;
           &lt;option value="4" class="four"&gt; Excellent &lt;/option&gt;
        &lt;/select&gt;
    &lt;/form&gt;
    &lt;/div&gt;

    &lt;script type="text/javascript"&gt;
    $( '#restau' ).live( 'pageinit',function(event){
        var SelectedOptionClass = $('option:selected').attr('class');
        $('div.ui-select').addClass(SelectedOptionClass);
        
        $('#note_utilisateur').live('change', function(){    
            $('div.ui-select').removeClass(SelectedOptionClass);
            
            SelectedOptionClass = $('option:selected').attr('class');
            $('div.ui-select').addClass(SelectedOptionClass);       
         });
    });
    &lt;/script&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da820263846066-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-2">2</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-4">4</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-6">6</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-8">8</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom" data-line="crayon-59a88327da820263846066-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-10">10</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-11">11</div><div class="crayon-num crayon-marked-num crayon-top crayon-striped-num" data-line="crayon-59a88327da820263846066-12">12</div><div class="crayon-num crayon-marked-num crayon-bottom" data-line="crayon-59a88327da820263846066-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-14">14</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-15">15</div><div class="crayon-num crayon-marked-num crayon-top crayon-striped-num" data-line="crayon-59a88327da820263846066-16">16</div><div class="crayon-num crayon-marked-num" data-line="crayon-59a88327da820263846066-17">17</div><div class="crayon-num crayon-marked-num crayon-bottom crayon-striped-num" data-line="crayon-59a88327da820263846066-18">18</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-20">20</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-22">22</div><div class="crayon-num crayon-marked-num crayon-top" data-line="crayon-59a88327da820263846066-23">23</div><div class="crayon-num crayon-marked-num crayon-bottom crayon-striped-num" data-line="crayon-59a88327da820263846066-24">24</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-26">26</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-28">28</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-30">30</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-32">32</div><div class="crayon-num crayon-marked-num crayon-top" data-line="crayon-59a88327da820263846066-33">33</div><div class="crayon-num crayon-marked-num crayon-bottom crayon-striped-num" data-line="crayon-59a88327da820263846066-34">34</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-36">36</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-37">37</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num" data-line="crayon-59a88327da820263846066-38">38</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-40">40</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-42">42</div><div class="crayon-num crayon-marked-num crayon-top" data-line="crayon-59a88327da820263846066-43">43</div><div class="crayon-num crayon-marked-num crayon-bottom crayon-striped-num" data-line="crayon-59a88327da820263846066-44">44</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-46">46</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-48">48</div><div class="crayon-num crayon-marked-num crayon-top" data-line="crayon-59a88327da820263846066-49">49</div><div class="crayon-num crayon-marked-num crayon-bottom crayon-striped-num" data-line="crayon-59a88327da820263846066-50">50</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-51">51</div><div class="crayon-num crayon-marked-num crayon-top crayon-striped-num" data-line="crayon-59a88327da820263846066-52">52</div><div class="crayon-num crayon-marked-num crayon-bottom" data-line="crayon-59a88327da820263846066-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-54">54</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-56">56</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-58">58</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-60">60</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-62">62</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-64">64</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-66">66</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-68">68</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-70">70</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-72">72</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-74">74</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da820263846066-76">76</div><div class="crayon-num" data-line="crayon-59a88327da820263846066-77">77</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da820263846066-1"><span class="crayon-o">&lt;</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-2"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-k ">id</span><span class="crayon-o">=</span><span class="crayon-s">"restau"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"page"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">add</span><span class="crayon-o">-</span><span class="crayon-v">back</span><span class="crayon-o">-</span><span class="crayon-v">btn</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"header"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">Restaurant </span><span class="crayon-v">Picker</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-59a88327da820263846066-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"content"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-59a88327da820263846066-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">strong</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-i">message</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">strong</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-v">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"ui-grid-a"</span><span class="crayon-h"> </span><span class="crayon-k ">id</span><span class="crayon-o">=</span><span class="crayon-s">"restau_infos"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"ui-block-a"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="crayon-59a88327da820263846066-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">restaurant</span><span class="crayon-sy">.</span><span class="crayon-i">name</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-bottom" id="crayon-59a88327da820263846066-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">strong</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">restaurant</span><span class="crayon-sy">.</span><span class="crayon-v">desc</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">strong</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">On </span><span class="crayon-e">the </span><span class="crayon-v">menu</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">ul</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="crayon-59a88327da820263846066-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">m</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">rest_menu</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-marked-line" id="crayon-59a88327da820263846066-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">li</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">m</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">li</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-bottom crayon-striped-line" id="crayon-59a88327da820263846066-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-v">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ul</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"ui-block-b"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top" id="crayon-59a88327da820263846066-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">restaurant</span><span class="crayon-sy">.</span><span class="crayon-v">picture</span><span class="crayon-sy">.</span><span class="crayon-i">url</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-v">alt</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">restaurant</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-bottom crayon-striped-line" id="crayon-59a88327da820263846066-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"{{ restaurant.web }}"</span><span class="crayon-h"> </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"external"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"button"</span><span class="crayon-o">&gt;</span><span class="crayon-e">See </span><span class="crayon-e">our </span><span class="crayon-v">website</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">grid</span><span class="crayon-o">-</span><span class="crayon-v">a</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">hr</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-29">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"ui-grid-a"</span><span class="crayon-h"> </span><span class="crayon-k ">id</span><span class="crayon-o">=</span><span class="crayon-s">"contact_infos"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"ui-block-a"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">h2</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">Contact</span><span class="crayon-h"> </span><span class="crayon-e">us</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">h2</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top" id="crayon-59a88327da820263846066-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">restaurant</span><span class="crayon-sy">.</span><span class="crayon-v">address</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-bottom crayon-striped-line" id="crayon-59a88327da820263846066-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">restaurant</span><span class="crayon-sy">.</span><span class="crayon-v">post_code</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">restaurant</span><span class="crayon-sy">.</span><span class="crayon-i">town</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-36">&nbsp;</div><div class="crayon-line" id="crayon-59a88327da820263846066-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"ui-block-b"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-59a88327da820263846066-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">restaurant</span><span class="crayon-sy">.</span><span class="crayon-k ">map</span><span class="crayon-sy">.</span><span class="crayon-v">url</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-v">alt</span><span class="crayon-o">=</span><span class="crayon-s">"map"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">grid</span><span class="crayon-o">-</span><span class="crayon-v">a</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-41">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-k ">id</span><span class="crayon-o">=</span><span class="crayon-s">"contact_buttons"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top" id="crayon-59a88327da820263846066-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"{{restaurant.gmap_url}}"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"button"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">icon</span><span class="crayon-o">=</span><span class="crayon-s">"maps"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">Find </span><span class="crayon-e">us </span><span class="crayon-e">on </span><span class="crayon-e">Google </span><span class="crayon-v">Maps</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-bottom crayon-striped-line" id="crayon-59a88327da820263846066-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"tel:{{restaurant.phone}}"</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-o">=</span><span class="crayon-s">"button"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">icon</span><span class="crayon-o">=</span><span class="crayon-s">"tel"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">Call </span><span class="crayon-v">us</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">hr</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-47">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-k ">id</span><span class="crayon-o">=</span><span class="crayon-s">"notation"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top" id="crayon-59a88327da820263846066-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">form </span><span class="crayon-v">action</span><span class="crayon-o">=</span><span class="crayon-s">"{% url 'restaurants:vote' restaurant.id %}"</span><span class="crayon-h"> </span><span class="crayon-v">method</span><span class="crayon-o">=</span><span class="crayon-s">"post"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-bottom crayon-striped-line" id="crayon-59a88327da820263846066-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-v">csrf_token</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">label </span><span class="crayon-st">for</span><span class="crayon-o">=</span><span class="crayon-s">"select-choice-0"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"select"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h2</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-k ">User</span><span class="crayon-h"> </span><span class="crayon-v">rating</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h2</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">label</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="crayon-59a88327da820263846066-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-k ">select</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"note_utilisateur"</span><span class="crayon-h"> </span><span class="crayon-v">onchange</span><span class="crayon-o">=</span><span class="crayon-s">"this.form.submit()"</span><span class="crayon-h"> </span><span class="crayon-k ">id</span><span class="crayon-o">=</span><span class="crayon-s">"note_utilisateur"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">native</span><span class="crayon-o">-</span><span class="crayon-v">menu</span><span class="crayon-o">=</span><span class="crayon-s">"false"</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">-</span><span class="crayon-v">theme</span><span class="crayon-o">=</span><span class="crayon-s">"c"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-marked-line crayon-bottom" id="crayon-59a88327da820263846066-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-v">option</span><span class="crayon-o">&gt;</span><span class="crayon-e">Choose </span><span class="crayon-e">your </span><span class="crayon-v">vote</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">option</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">option </span><span class="crayon-v">value</span><span class="crayon-o">=</span><span class="crayon-s">"1"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"one"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-st">Not</span><span class="crayon-h"> </span><span class="crayon-e">good </span><span class="crayon-e">at </span><span class="crayon-k ">all</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">option</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">option </span><span class="crayon-v">value</span><span class="crayon-o">=</span><span class="crayon-s">"2"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"two"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Average</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">option</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">option </span><span class="crayon-v">value</span><span class="crayon-o">=</span><span class="crayon-s">"3"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"three"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Pretty </span><span class="crayon-v">good</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">option</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">option </span><span class="crayon-v">value</span><span class="crayon-o">=</span><span class="crayon-s">"4"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"four"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">Excellent</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">option</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-k ">select</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">form</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-61">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">'#restau'</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">live</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">'pageinit'</span><span class="crayon-sy">,</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">SelectedOptionClass</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'option:selected'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">attr</span><span class="crayon-sy">(</span><span class="crayon-s">'class'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'div.ui-select'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">addClass</span><span class="crayon-sy">(</span><span class="crayon-v">SelectedOptionClass</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#note_utilisateur'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">live</span><span class="crayon-sy">(</span><span class="crayon-s">'change'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'div.ui-select'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">removeClass</span><span class="crayon-sy">(</span><span class="crayon-v">SelectedOptionClass</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">SelectedOptionClass</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'option:selected'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">attr</span><span class="crayon-sy">(</span><span class="crayon-s">'class'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'div.ui-select'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">addClass</span><span class="crayon-sy">(</span><span class="crayon-v">SelectedOptionClass</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da820263846066-76"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-59a88327da820263846066-77"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0348 seconds] -->

<p>For the restaurant.html template we must replace all the fix elements for dynamic oness. We use <em>{{restaurant.name}}</em>, <em>{{restaurant.desc}}</em>, <em>{{restaurant.web}}</em>, … I have also added the display of a message in the line 9. This message is the <em>Thank you</em> message that will only be displayed after a votation. The votation is submitted when we change the selection of the drop-down(<em>onchange=”this.form.submit()”</em>), for this reason we have to add the option “<em>Choose your vote</em>“. When submitted, it calls the vote view that we saw before that will do the calculations of the votes, storing the new value in the database and displaying the restaurant page with the <em>Thank you</em> message.</p>
<p>Because we have added another option to the drop-down list we need to adjust the .css file.</p>
<p><strong>custom.css</strong></p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-59a88327da831909557733" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">custom.css</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;http://yaizabailen.com/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png&quot;);"></div></div><span class="crayon-language">CSS</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">.one #note_utilisateur-button span.ui-btn-text,
#note_utilisateur-menu li + li a:before{
background-position: -75px -182px;
}
.two #note_utilisateur-button span.ui-btn-text,
#note_utilisateur-menu li + li + li a:before{
background-position: -52px -182px;
}
.three #note_utilisateur-button span.ui-btn-text,
#note_utilisateur-menu li + li + li +li a:before{
background-position: -27px -182px;
}
.four #note_utilisateur-button span.ui-btn-text,
#note_utilisateur-menu li + li + li +li +li a:before{
background-position: -2px -182px;
}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-59a88327da831909557733-1">1</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num" data-line="crayon-59a88327da831909557733-2">2</div><div class="crayon-num" data-line="crayon-59a88327da831909557733-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da831909557733-4">4</div><div class="crayon-num" data-line="crayon-59a88327da831909557733-5">5</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num" data-line="crayon-59a88327da831909557733-6">6</div><div class="crayon-num" data-line="crayon-59a88327da831909557733-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da831909557733-8">8</div><div class="crayon-num" data-line="crayon-59a88327da831909557733-9">9</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num" data-line="crayon-59a88327da831909557733-10">10</div><div class="crayon-num" data-line="crayon-59a88327da831909557733-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da831909557733-12">12</div><div class="crayon-num" data-line="crayon-59a88327da831909557733-13">13</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num" data-line="crayon-59a88327da831909557733-14">14</div><div class="crayon-num" data-line="crayon-59a88327da831909557733-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-59a88327da831909557733-16">16</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-59a88327da831909557733-1"><span class="crayon-k ">.one #note_utilisateur-button span.ui-btn-text,</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-59a88327da831909557733-2"><span class="crayon-k ">#note_utilisateur-menu li + li a:before</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-59a88327da831909557733-3"><span class="crayon-e ">background-position</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">-75px</span><span class="crayon-h"> </span><span class="crayon-i ">-182px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da831909557733-4"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-59a88327da831909557733-5"><span class="crayon-k ">.two #note_utilisateur-button span.ui-btn-text,</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-59a88327da831909557733-6"><span class="crayon-k ">#note_utilisateur-menu li + li + li a:before</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-59a88327da831909557733-7"><span class="crayon-e ">background-position</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">-52px</span><span class="crayon-h"> </span><span class="crayon-i ">-182px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da831909557733-8"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-59a88327da831909557733-9"><span class="crayon-k ">.three #note_utilisateur-button span.ui-btn-text,</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-59a88327da831909557733-10"><span class="crayon-k ">#note_utilisateur-menu li + li + li +li a:before</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-59a88327da831909557733-11"><span class="crayon-e ">background-position</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">-27px</span><span class="crayon-h"> </span><span class="crayon-i ">-182px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da831909557733-12"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-59a88327da831909557733-13"><span class="crayon-k ">.four #note_utilisateur-button span.ui-btn-text,</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-59a88327da831909557733-14"><span class="crayon-k ">#note_utilisateur-menu li + li + li +li +li a:before</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-59a88327da831909557733-15"><span class="crayon-e ">background-position</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">-2px</span><span class="crayon-h"> </span><span class="crayon-i ">-182px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-59a88327da831909557733-16"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0019 seconds] -->

<p>We have completed the back-end of our application. You can find the code in <a href="https://github.com/yaiza-bailen/Rest-Picker" title="GitHub project" target="_blank">github</a>. Remember that you need to change the paths in the <em>settings.py</em> file to your own paths. You can ignore the requirements.txt file that is part of Python virtualenv and the migrations folder that is part of South since they have not been covered in this tutorial. Also it is very important that you include <strong>tests</strong> for your application. This is as important as the application code and it makes a difference in your application.</p>
<p>I hope you have found this tutorial useful!</p>
											</div>
				
				<aside class="meta details">
					<p>
												
													Filed under <a href="http://yaizabailen.com/category/django/" rel="category tag">django</a>, <a href="http://yaizabailen.com/category/tutorial/" rel="category tag">tutorial</a>.
																	</p>
				</aside>

				<aside class="meta author">
					<img alt="" src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/4ab762fd5e997edad233f7017f5d19a3" srcset="http://1.gravatar.com/avatar/4ab762fd5e997edad233f7017f5d19a3?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50">					
					<h1>The author</h1>
					<h2><a href="http://yaizabailen.com/author/yaizabailen/" title="Posts by Yaiza Bailén" rel="author">Yaiza Bailén</a></h2>

									</aside>
				
				
<nav role="navigation" class="thb-navigation " id="">
	<span class="nav-previous"><a href="http://yaizabailen.com/the-nerd-tree-plugin/" rel="prev">The NERD Tree plugin</a></span><span class="nav-next"><a href="http://yaizabailen.com/setting-up-an-android-app-build-environment-with-android-sdk-and-phonegap-in-ubuntu-13-04/" rel="next">Setting Up An Android App Build Environment With Android SDK and PhoneGap in Ubuntu 13.04</a></span></nav>				
				
					</section>

			
	
<aside class="sidebar " id="thb-sidebar-main">
		<section class="widget"><form role="search" method="get" id="searchform" class="searchform" action="http://yaizabailen.com/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s">
					<input type="submit" id="searchsubmit" value="Search">
				</div>
			</form></section>		<section class="widget">		<header><h1 class="widgettitle">Recent Posts</h1></header>		<ul>
					<li>
				<a href="http://yaizabailen.com/upload-files-from-a-web-browser-support-for-old-and-modern-browsers-dropzone-js-and-the-jquery-iframe-transport-js-plugin/">Upload files from a web browser. Support for old and modern browsers. Dropzone.js and the jquery.iframe-transport.js plugin.</a>
						</li>
					<li>
				<a href="http://yaizabailen.com/internet-explorer-for-ubuntu/">Internet Explorer for Ubuntu</a>
						</li>
					<li>
				<a href="http://yaizabailen.com/mangopay-workflow-for-marketplaces/">Mangopay workflow for marketplaces using Node.js wrapper</a>
						</li>
					<li>
				<a href="http://yaizabailen.com/bootstrap-3-grid-system/">Bootstrap 3. Grid system</a>
						</li>
					<li>
				<a href="http://yaizabailen.com/vagrant/">Vagrant</a>
						</li>
				</ul>
		</section>		<section class="widget"><header><h1 class="widgettitle">Categories</h1></header>		<ul>
	<li class="cat-item cat-item-7"><a href="http://yaizabailen.com/category/android/">Android</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://yaizabailen.com/category/bootstrap-3/">Bootstrap 3</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://yaizabailen.com/category/django/">django</a>
</li>
	<li class="cat-item cat-item-13"><a href="http://yaizabailen.com/category/dropzone/">dropzone</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://yaizabailen.com/category/intro/">Intro</a>
</li>
	<li class="cat-item cat-item-12"><a href="http://yaizabailen.com/category/javascript/">javascript</a>
</li>
	<li class="cat-item cat-item-11"><a href="http://yaizabailen.com/category/mangopay/">mangopay</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://yaizabailen.com/category/phonegap/">PhoneGap</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://yaizabailen.com/category/tutorial/">tutorial</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://yaizabailen.com/category/uncategorized/">Uncategorized</a>
</li>
	<li class="cat-item cat-item-9"><a href="http://yaizabailen.com/category/vagrant/">vagrant</a>
</li>
	<li class="cat-item cat-item-4"><a href="http://yaizabailen.com/category/vim/">vim</a>
</li>
		</ul>
</section><section class="widget"><header><h1 class="widgettitle">Archives</h1></header>		<ul>
			<li><a href="http://yaizabailen.com/2015/01/">January 2015</a></li>
	<li><a href="http://yaizabailen.com/2014/11/">November 2014</a></li>
	<li><a href="http://yaizabailen.com/2014/01/">January 2014</a></li>
	<li><a href="http://yaizabailen.com/2013/06/">June 2013</a></li>
	<li><a href="http://yaizabailen.com/2013/05/">May 2013</a></li>
	<li><a href="http://yaizabailen.com/2013/04/">April 2013</a></li>
		</ul>
		</section><section class="widget"><header><h1 class="widgettitle">Meta</h1></header>			<ul>
						<li><a href="http://yaizabailen.com/wp-login.php">Log in</a></li>
			<li><a href="http://yaizabailen.com/feed/">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://yaizabailen.com/comments/feed/">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
			</section>	</aside>


				
			</div><!-- /.wrapper -->

			<section id="footer">
								
				<div class="wrapper">
					<div id="bottom-footer">
						<p id="copyright">
							<a class="logohome" href="http://yaizabailen.com/" title="Yaiza Bailén" rel="home">Yaiza Bailén</a>
														<span> — © copyright 2013</span>
													</p>
					</div>
				</div>
			</section>

			<!--</div> #boxed-container -->
		</div><!-- #page -->
	
	</div>		
		
		<script type="text/javascript" src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/admin-ajax(1).php"></script>
		<script type="text/javascript" src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/comment-reply.min.js"></script>
<script type="text/javascript" src="./Django tutorial_ creating the back-end for the Restaurant Picker app _ Yaiza Bailén_files/wp-embed.min.js"></script>
	
</body><div></div><div></div></html>